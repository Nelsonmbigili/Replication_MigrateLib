{
  "exitcode": 1,
  "summary": {
    "error": 6,
    "passed": 16,
    "failed": 4,
    "total": 26,
    "collected": 26
  },
  "collectors": [
    {
      "nodeid": "",
      "outcome": "passed",
      "result": [
        {
          "nodeid": ".",
          "type": "Dir"
        }
      ]
    },
    {
      "nodeid": "docs/_static/css",
      "outcome": "passed",
      "result": []
    },
    {
      "nodeid": "docs/_static",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "docs/_static/css",
          "type": "Dir"
        }
      ]
    },
    {
      "nodeid": "docs/_templates",
      "outcome": "passed",
      "result": []
    },
    {
      "nodeid": "docs",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "docs/_static",
          "type": "Dir"
        },
        {
          "nodeid": "docs/_templates",
          "type": "Dir"
        }
      ]
    },
    {
      "nodeid": "test_dir",
      "outcome": "passed",
      "result": []
    },
    {
      "nodeid": "tests/test_cache.py::TestUnpywallCache",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "tests/test_cache.py::TestUnpywallCache::test_reset_cache",
          "type": "Function",
          "lineno": 54
        },
        {
          "nodeid": "tests/test_cache.py::TestUnpywallCache::test_delete",
          "type": "Function",
          "lineno": 59
        },
        {
          "nodeid": "tests/test_cache.py::TestUnpywallCache::test_timeout",
          "type": "Function",
          "lineno": 67
        },
        {
          "nodeid": "tests/test_cache.py::TestUnpywallCache::test_get",
          "type": "Function",
          "lineno": 77
        },
        {
          "nodeid": "tests/test_cache.py::TestUnpywallCache::test_save_load",
          "type": "Function",
          "lineno": 85
        },
        {
          "nodeid": "tests/test_cache.py::TestUnpywallCache::test_download",
          "type": "Function",
          "lineno": 101
        }
      ]
    },
    {
      "nodeid": "tests/test_cache.py",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "tests/test_cache.py::TestUnpywallCache",
          "type": "Class"
        }
      ]
    },
    {
      "nodeid": "tests/test_cli.py::TestUnpywallCli",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "tests/test_cli.py::TestUnpywallCli::test_main",
          "type": "Function",
          "lineno": 10
        },
        {
          "nodeid": "tests/test_cli.py::TestUnpywallCli::test_view",
          "type": "Function",
          "lineno": 21
        },
        {
          "nodeid": "tests/test_cli.py::TestUnpywallCli::test_download",
          "type": "Function",
          "lineno": 32
        },
        {
          "nodeid": "tests/test_cli.py::TestUnpywallCli::test_link",
          "type": "Function",
          "lineno": 44
        }
      ]
    },
    {
      "nodeid": "tests/test_cli.py",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "tests/test_cli.py::TestUnpywallCli",
          "type": "Class"
        }
      ]
    },
    {
      "nodeid": "tests/test_unpywall.py::TestUnpywall",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "tests/test_unpywall.py::TestUnpywall::test_init_cache",
          "type": "Function",
          "lineno": 23
        },
        {
          "nodeid": "tests/test_unpywall.py::TestUnpywall::test_validate_dois",
          "type": "Function",
          "lineno": 38
        },
        {
          "nodeid": "tests/test_unpywall.py::TestUnpywall::test_get_df",
          "type": "Function",
          "lineno": 57
        },
        {
          "nodeid": "tests/test_unpywall.py::TestUnpywall::test_doi",
          "type": "Function",
          "lineno": 81
        },
        {
          "nodeid": "tests/test_unpywall.py::TestUnpywall::test_query",
          "type": "Function",
          "lineno": 99
        },
        {
          "nodeid": "tests/test_unpywall.py::TestUnpywall::test_get_json",
          "type": "Function",
          "lineno": 107
        },
        {
          "nodeid": "tests/test_unpywall.py::TestUnpywall::test_get_pdf_link",
          "type": "Function",
          "lineno": 147
        },
        {
          "nodeid": "tests/test_unpywall.py::TestUnpywall::test_get_doc_link",
          "type": "Function",
          "lineno": 151
        },
        {
          "nodeid": "tests/test_unpywall.py::TestUnpywall::test_get_all_links",
          "type": "Function",
          "lineno": 156
        },
        {
          "nodeid": "tests/test_unpywall.py::TestUnpywall::test_download_pdf_handle",
          "type": "Function",
          "lineno": 161
        },
        {
          "nodeid": "tests/test_unpywall.py::TestUnpywall::test_progress",
          "type": "Function",
          "lineno": 184
        },
        {
          "nodeid": "tests/test_unpywall.py::TestUnpywall::test_view_pdf",
          "type": "Function",
          "lineno": 189
        },
        {
          "nodeid": "tests/test_unpywall.py::TestUnpywall::test_download_pdf_file",
          "type": "Function",
          "lineno": 192
        }
      ]
    },
    {
      "nodeid": "tests/test_unpywall.py",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "tests/test_unpywall.py::TestUnpywall",
          "type": "Class"
        }
      ]
    },
    {
      "nodeid": "tests/test_utils.py::TestUnpywallCredentials",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "tests/test_utils.py::TestUnpywallCredentials::test_validate_email",
          "type": "Function",
          "lineno": 7
        }
      ]
    },
    {
      "nodeid": "tests/test_utils.py::TestUnpywallURL",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "tests/test_utils.py::TestUnpywallURL::test_doi_url",
          "type": "Function",
          "lineno": 36
        },
        {
          "nodeid": "tests/test_utils.py::TestUnpywallURL::test_query_url",
          "type": "Function",
          "lineno": 44
        }
      ]
    },
    {
      "nodeid": "tests/test_utils.py",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "tests/test_utils.py::TestUnpywallCredentials",
          "type": "Class"
        },
        {
          "nodeid": "tests/test_utils.py::TestUnpywallURL",
          "type": "Class"
        }
      ]
    },
    {
      "nodeid": "tests",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "tests/test_cache.py",
          "type": "Module"
        },
        {
          "nodeid": "tests/test_cli.py",
          "type": "Module"
        },
        {
          "nodeid": "tests/test_unpywall.py",
          "type": "Module"
        },
        {
          "nodeid": "tests/test_utils.py",
          "type": "Module"
        }
      ]
    },
    {
      "nodeid": "unpywall",
      "outcome": "passed",
      "result": []
    },
    {
      "nodeid": "unpywall.egg-info",
      "outcome": "passed",
      "result": []
    },
    {
      "nodeid": ".",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "docs",
          "type": "Dir"
        },
        {
          "nodeid": "test_dir",
          "type": "Dir"
        },
        {
          "nodeid": "tests",
          "type": "Package"
        },
        {
          "nodeid": "unpywall",
          "type": "Package"
        },
        {
          "nodeid": "unpywall.egg-info",
          "type": "Dir"
        }
      ]
    }
  ],
  "tests": [
    {
      "nodeid": "tests/test_cache.py::TestUnpywallCache::test_reset_cache",
      "lineno": 54,
      "outcome": "error",
      "keywords": [
        "test_reset_cache",
        "TestUnpywallCache",
        "test_cache.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\unpywall@unpywall__7909fde0__requests__pycurl\\tests\\test_cache.py",
          "lineno": 43,
          "message": "TypeError: UnpywallCache() takes no arguments"
        },
        "traceback": [
          {
            "path": "tests\\test_cache.py",
            "lineno": 43,
            "message": "TypeError"
          }
        ],
        "longrepr": "self = <tests.test_cache.TestUnpywallCache object at 0x000001C499E1AF50>\n\n    @pytest.fixture\n    def example_cache(self):\n    \n        if os.path.exists(TestUnpywallCache.test_cache_path):\n            os.remove(TestUnpywallCache.test_cache_path)\n>           assert UnpywallCache(\n                    TestUnpywallCache.test_cache_path).content == {}\nE           TypeError: UnpywallCache() takes no arguments\n\ntests\\test_cache.py:43: TypeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_cache.py::TestUnpywallCache::test_delete",
      "lineno": 59,
      "outcome": "error",
      "keywords": [
        "test_delete",
        "TestUnpywallCache",
        "test_cache.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\unpywall@unpywall__7909fde0__requests__pycurl\\tests\\test_cache.py",
          "lineno": 50,
          "message": "TypeError: UnpywallCache() takes no arguments"
        },
        "traceback": [
          {
            "path": "tests\\test_cache.py",
            "lineno": 50,
            "message": "TypeError"
          }
        ],
        "longrepr": "self = <tests.test_cache.TestUnpywallCache object at 0x000001C499E1B710>\n\n    @pytest.fixture\n    def example_cache(self):\n    \n        if os.path.exists(TestUnpywallCache.test_cache_path):\n            os.remove(TestUnpywallCache.test_cache_path)\n            assert UnpywallCache(\n                    TestUnpywallCache.test_cache_path).content == {}\n            assert UnpywallCache(\n                    TestUnpywallCache.test_cache_path).access_times == {}\n    \n        copyfile(TestUnpywallCache.test_backup_cache_path,\n                 TestUnpywallCache.test_cache_path)\n>       cache = UnpywallCache(TestUnpywallCache.test_cache_path)\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       TypeError: UnpywallCache() takes no arguments\n\ntests\\test_cache.py:50: TypeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_cache.py::TestUnpywallCache::test_timeout",
      "lineno": 67,
      "outcome": "error",
      "keywords": [
        "test_timeout",
        "TestUnpywallCache",
        "test_cache.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\unpywall@unpywall__7909fde0__requests__pycurl\\tests\\test_cache.py",
          "lineno": 43,
          "message": "TypeError: UnpywallCache() takes no arguments"
        },
        "traceback": [
          {
            "path": "tests\\test_cache.py",
            "lineno": 43,
            "message": "TypeError"
          }
        ],
        "longrepr": "self = <tests.test_cache.TestUnpywallCache object at 0x000001C499E1BCD0>\n\n    @pytest.fixture\n    def example_cache(self):\n    \n        if os.path.exists(TestUnpywallCache.test_cache_path):\n            os.remove(TestUnpywallCache.test_cache_path)\n>           assert UnpywallCache(\n                    TestUnpywallCache.test_cache_path).content == {}\nE           TypeError: UnpywallCache() takes no arguments\n\ntests\\test_cache.py:43: TypeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_cache.py::TestUnpywallCache::test_get",
      "lineno": 77,
      "outcome": "error",
      "keywords": [
        "test_get",
        "TestUnpywallCache",
        "test_cache.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\unpywall@unpywall__7909fde0__requests__pycurl\\tests\\test_cache.py",
          "lineno": 50,
          "message": "TypeError: UnpywallCache() takes no arguments"
        },
        "traceback": [
          {
            "path": "tests\\test_cache.py",
            "lineno": 50,
            "message": "TypeError"
          }
        ],
        "longrepr": "self = <tests.test_cache.TestUnpywallCache object at 0x000001C499E19190>\n\n    @pytest.fixture\n    def example_cache(self):\n    \n        if os.path.exists(TestUnpywallCache.test_cache_path):\n            os.remove(TestUnpywallCache.test_cache_path)\n            assert UnpywallCache(\n                    TestUnpywallCache.test_cache_path).content == {}\n            assert UnpywallCache(\n                    TestUnpywallCache.test_cache_path).access_times == {}\n    \n        copyfile(TestUnpywallCache.test_backup_cache_path,\n                 TestUnpywallCache.test_cache_path)\n>       cache = UnpywallCache(TestUnpywallCache.test_cache_path)\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       TypeError: UnpywallCache() takes no arguments\n\ntests\\test_cache.py:50: TypeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_cache.py::TestUnpywallCache::test_save_load",
      "lineno": 85,
      "outcome": "error",
      "keywords": [
        "test_save_load",
        "TestUnpywallCache",
        "test_cache.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\unpywall@unpywall__7909fde0__requests__pycurl\\tests\\test_cache.py",
          "lineno": 43,
          "message": "TypeError: UnpywallCache() takes no arguments"
        },
        "traceback": [
          {
            "path": "tests\\test_cache.py",
            "lineno": 43,
            "message": "TypeError"
          }
        ],
        "longrepr": "self = <tests.test_cache.TestUnpywallCache object at 0x000001C499E185D0>\n\n    @pytest.fixture\n    def example_cache(self):\n    \n        if os.path.exists(TestUnpywallCache.test_cache_path):\n            os.remove(TestUnpywallCache.test_cache_path)\n>           assert UnpywallCache(\n                    TestUnpywallCache.test_cache_path).content == {}\nE           TypeError: UnpywallCache() takes no arguments\n\ntests\\test_cache.py:43: TypeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_cache.py::TestUnpywallCache::test_download",
      "lineno": 101,
      "outcome": "error",
      "keywords": [
        "test_download",
        "TestUnpywallCache",
        "test_cache.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\unpywall@unpywall__7909fde0__requests__pycurl\\tests\\test_cache.py",
          "lineno": 50,
          "message": "TypeError: UnpywallCache() takes no arguments"
        },
        "traceback": [
          {
            "path": "tests\\test_cache.py",
            "lineno": 50,
            "message": "TypeError"
          }
        ],
        "longrepr": "self = <tests.test_cache.TestUnpywallCache object at 0x000001C499E18E90>\n\n    @pytest.fixture\n    def example_cache(self):\n    \n        if os.path.exists(TestUnpywallCache.test_cache_path):\n            os.remove(TestUnpywallCache.test_cache_path)\n            assert UnpywallCache(\n                    TestUnpywallCache.test_cache_path).content == {}\n            assert UnpywallCache(\n                    TestUnpywallCache.test_cache_path).access_times == {}\n    \n        copyfile(TestUnpywallCache.test_backup_cache_path,\n                 TestUnpywallCache.test_cache_path)\n>       cache = UnpywallCache(TestUnpywallCache.test_cache_path)\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       TypeError: UnpywallCache() takes no arguments\n\ntests\\test_cache.py:50: TypeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_cli.py::TestUnpywallCli::test_main",
      "lineno": 10,
      "outcome": "passed",
      "keywords": [
        "test_main",
        "TestUnpywallCli",
        "test_cli.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed",
        "stdout": "usage: unpywall <command> [<args>]\n\nCommand-line tool for interfacing the Unpaywall API\n\nThese are common unpywall commands:\n\n   view        This command opens a local copy of a PDF from\n               a given DOI.\n   download    This command downloads a copy of a PDF from a\n               given DOI.\n   link        This command returns a link to an OA pdf\n               (if available).\nUnknown option: this is a bad argument\nusage: unpywall <command> [<args>]\n\nCommand-line tool for interfacing the Unpaywall API\n\nThese are common unpywall commands:\n\n   view        This command opens a local copy of a PDF from\n               a given DOI.\n   download    This command downloads a copy of a PDF from a\n               given DOI.\n   link        This command returns a link to an OA pdf\n               (if available).\n"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_cli.py::TestUnpywallCli::test_view",
      "lineno": 21,
      "outcome": "passed",
      "keywords": [
        "test_view",
        "TestUnpywallCli",
        "test_cli.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed",
        "stdout": "usage: __main__.py [-m \b] [-b \b] [-u \b] doi\n\nThis command opens a local copy of a PDF from a given DOI.\n\npositional arguments:\n  doi                 \tThe DOI of the document.\n\noptions:\n  -m \b, --mode \b      \tThe mode for viewing a PDF.\n  -b \b, --backend \b   \tThe backend you want to use.\n  -u \b, --progress \b  \tShow progress bar.\n",
        "stderr": "error: the following arguments are required: doi\n\n"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_cli.py::TestUnpywallCli::test_download",
      "lineno": 32,
      "outcome": "passed",
      "keywords": [
        "test_download",
        "TestUnpywallCli",
        "test_cli.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed",
        "stdout": "usage: __main__.py [-f \b] [-p \b] [-b \b] [-u \b] doi\n\nThis command downloads a copy of a PDF from a given DOI.\n\npositional arguments:\n  doi                 \tThe DOI of the document.\n\noptions:\n  -f \b, --filename \b  \tThe filename for downloading a PDF.\n  -p \b, --path \b      \tThe filepath for downloading a PDF.\n  -b \b, --backend \b   \tThe backend you want to use.\n  -u \b, --progress \b  \tShow progress bar.\n",
        "stderr": "error: the following arguments are required: doi\n\n"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_cli.py::TestUnpywallCli::test_link",
      "lineno": 44,
      "outcome": "passed",
      "keywords": [
        "test_link",
        "TestUnpywallCli",
        "test_cli.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed",
        "stdout": "usage: __main__.py [-b \b] doi\n\nThis command returns a link to an OA pdf (if available).\n\npositional arguments:\n  doi                \tThe DOI of the document.\n\noptions:\n  -b \b, --backend \b  \tThe backend you want to use.\n",
        "stderr": "error: the following arguments are required: doi\n\n"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_unpywall.py::TestUnpywall::test_init_cache",
      "lineno": 23,
      "outcome": "passed",
      "keywords": [
        "test_init_cache",
        "TestUnpywall",
        "test_unpywall.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_unpywall.py::TestUnpywall::test_validate_dois",
      "lineno": 38,
      "outcome": "passed",
      "keywords": [
        "test_validate_dois",
        "TestUnpywall",
        "test_unpywall.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_unpywall.py::TestUnpywall::test_get_df",
      "lineno": 57,
      "outcome": "passed",
      "keywords": [
        "test_get_df",
        "TestUnpywall",
        "test_unpywall.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_unpywall.py::TestUnpywall::test_doi",
      "lineno": 81,
      "outcome": "passed",
      "keywords": [
        "test_doi",
        "TestUnpywall",
        "test_unpywall.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_unpywall.py::TestUnpywall::test_query",
      "lineno": 99,
      "outcome": "failed",
      "keywords": [
        "test_query",
        "TestUnpywall",
        "test_unpywall.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\unpywall@unpywall__7909fde0__requests__pycurl\\unpywall\\__init__.py",
          "lineno": 338,
          "message": "NameError: name 'requests' is not defined"
        },
        "traceback": [
          {
            "path": "tests\\test_unpywall.py",
            "lineno": 102,
            "message": ""
          },
          {
            "path": "unpywall\\__init__.py",
            "lineno": 204,
            "message": "in query"
          },
          {
            "path": "unpywall\\__init__.py",
            "lineno": 338,
            "message": "NameError"
          }
        ],
        "longrepr": "self = <tests.test_unpywall.TestUnpywall object at 0x000001C49A080490>\nUnpywall = <class 'unpywall.Unpywall'>\n\n    def test_query(self, Unpywall):\n    \n>       df = Unpywall.query(query='test',\n                            is_oa=True,\n                            errors='ignore')\n\ntests\\test_unpywall.py:102: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nunpywall\\__init__.py:204: in query\n    data = Unpywall.get_json(query=query, is_oa=is_oa, errors=errors)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ndoi = None, query = 'test', is_oa = True, errors = 'ignore', force = False\nignore_cache = False\n\n    @staticmethod\n    def get_json(doi: str = None,\n                 query: str = None,\n                 is_oa: bool = False,\n                 errors: str = 'raise',\n                 force: bool = False,\n                 ignore_cache: bool = False):\n        \"\"\"\n        This function returns all information in Unpaywall about the given DOI.\n    \n        Parameters\n        ----------\n        doi : str\n            The DOI of the requested paper.\n        query : str\n            The text to search for.\n        is_oa : bool\n            A boolean value indicating whether the returned records should be\n            Open Access or not.\n        errors : str\n            Either 'raise' or 'ignore'. If the parameter errors is set to\n            'ignore' than errors will not raise an exception.\n        force : bool\n            Whether to force the cache to retrieve a new entry.\n        ignore_cache : bool\n            Whether to use or ignore the cache.\n    \n        Returns\n        -------\n        JSON object\n            A JSON data structure containing all information\n            returned by Unpaywall about the given DOI.\n    \n        Raises\n        ------\n        AttributeError\n            If the Unpaywall API did not respond with json.\n        \"\"\"\n        if not Unpywall.cache:\n            Unpywall.init_cache()\n    \n        if doi:\n            r = Unpywall.cache.get(doi,\n                                   errors=errors,\n                                   force=force,\n                                   ignore_cache=ignore_cache)\n        if query:\n    \n            if type(is_oa) != bool:\n                raise ValueError('The argument is_oa only accepts the'\n                                 ' values \"True\" and \"False\"')\n            # TODO: implementation -> cache.py\n            from .utils import UnpywallURL\n    \n            url = UnpywallURL(query=query, is_oa=is_oa).query_url\n    \n            buffer = BytesIO()\n>           r = requests.get(url)\n                ^^^^^^^^\nE           NameError: name 'requests' is not defined\n\nunpywall\\__init__.py:338: NameError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_unpywall.py::TestUnpywall::test_get_json",
      "lineno": 107,
      "outcome": "failed",
      "keywords": [
        "test_get_json",
        "TestUnpywall",
        "test_unpywall.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\unpywall@unpywall__7909fde0__requests__pycurl\\unpywall\\__init__.py",
          "lineno": 338,
          "message": "NameError: name 'requests' is not defined"
        },
        "traceback": [
          {
            "path": "tests\\test_unpywall.py",
            "lineno": 137,
            "message": ""
          },
          {
            "path": "unpywall\\__init__.py",
            "lineno": 338,
            "message": "NameError"
          }
        ],
        "longrepr": "self = <tests.test_unpywall.TestUnpywall object at 0x000001C49A080850>\nUnpywall = <class 'unpywall.Unpywall'>\n\n    def test_get_json(self, Unpywall):\n    \n        def pycurl_get(url):\n            buffer = BytesIO()\n            c = pycurl.Curl()\n            c.setopt(c.URL, url)\n            c.setopt(c.WRITEDATA, buffer)\n            c.setopt(c.FOLLOWLOCATION, True)\n            c.setopt(c.TIMEOUT, 30)\n            try:\n                c.perform()\n                status_code = c.getinfo(pycurl.RESPONSE_CODE)\n                c.close()\n                if status_code != 200:\n                    raise Exception(f\"HTTP request failed with status code {status_code}\")\n                return buffer.getvalue().decode('utf-8')\n            except pycurl.error as e:\n                c.close()\n                raise Exception(f\"An error occurred: {e}\")\n    \n        with pytest.raises(Exception):\n            Unpywall.get_json(doi='a bad doi', errors='raise')\n    \n        with pytest.warns(UserWarning):\n            Unpywall.get_json(doi='a bad doi', errors='ignore')\n    \n        assert isinstance(Unpywall.get_json(doi='10.1016/j.tmaid.2020.101663',\n                                            errors='raise'), dict)\n    \n>       assert isinstance(Unpywall.get_json(query='test',\n                                            is_oa=True,\n                                            errors='raise'), dict)\n\ntests\\test_unpywall.py:137: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ndoi = None, query = 'test', is_oa = True, errors = 'raise', force = False\nignore_cache = False\n\n    @staticmethod\n    def get_json(doi: str = None,\n                 query: str = None,\n                 is_oa: bool = False,\n                 errors: str = 'raise',\n                 force: bool = False,\n                 ignore_cache: bool = False):\n        \"\"\"\n        This function returns all information in Unpaywall about the given DOI.\n    \n        Parameters\n        ----------\n        doi : str\n            The DOI of the requested paper.\n        query : str\n            The text to search for.\n        is_oa : bool\n            A boolean value indicating whether the returned records should be\n            Open Access or not.\n        errors : str\n            Either 'raise' or 'ignore'. If the parameter errors is set to\n            'ignore' than errors will not raise an exception.\n        force : bool\n            Whether to force the cache to retrieve a new entry.\n        ignore_cache : bool\n            Whether to use or ignore the cache.\n    \n        Returns\n        -------\n        JSON object\n            A JSON data structure containing all information\n            returned by Unpaywall about the given DOI.\n    \n        Raises\n        ------\n        AttributeError\n            If the Unpaywall API did not respond with json.\n        \"\"\"\n        if not Unpywall.cache:\n            Unpywall.init_cache()\n    \n        if doi:\n            r = Unpywall.cache.get(doi,\n                                   errors=errors,\n                                   force=force,\n                                   ignore_cache=ignore_cache)\n        if query:\n    \n            if type(is_oa) != bool:\n                raise ValueError('The argument is_oa only accepts the'\n                                 ' values \"True\" and \"False\"')\n            # TODO: implementation -> cache.py\n            from .utils import UnpywallURL\n    \n            url = UnpywallURL(query=query, is_oa=is_oa).query_url\n    \n            buffer = BytesIO()\n>           r = requests.get(url)\n                ^^^^^^^^\nE           NameError: name 'requests' is not defined\n\nunpywall\\__init__.py:338: NameError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_unpywall.py::TestUnpywall::test_get_pdf_link",
      "lineno": 147,
      "outcome": "passed",
      "keywords": [
        "test_get_pdf_link",
        "TestUnpywall",
        "test_unpywall.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_unpywall.py::TestUnpywall::test_get_doc_link",
      "lineno": 151,
      "outcome": "passed",
      "keywords": [
        "test_get_doc_link",
        "TestUnpywall",
        "test_unpywall.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_unpywall.py::TestUnpywall::test_get_all_links",
      "lineno": 156,
      "outcome": "passed",
      "keywords": [
        "test_get_all_links",
        "TestUnpywall",
        "test_unpywall.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_unpywall.py::TestUnpywall::test_download_pdf_handle",
      "lineno": 161,
      "outcome": "failed",
      "keywords": [
        "test_download_pdf_handle",
        "TestUnpywall",
        "test_unpywall.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\unpywall@unpywall__7909fde0__requests__pycurl\\unpywall\\__init__.py",
          "lineno": 426,
          "message": "NameError: name 'requests' is not defined"
        },
        "traceback": [
          {
            "path": "tests\\test_unpywall.py",
            "lineno": 183,
            "message": ""
          },
          {
            "path": "unpywall\\__init__.py",
            "lineno": 426,
            "message": "NameError"
          }
        ],
        "longrepr": "self = <tests.test_unpywall.TestUnpywall object at 0x000001C49A081FD0>\nUnpywall = <class 'unpywall.Unpywall'>\n\n    def test_download_pdf_handle(self, Unpywall):\n    \n        def pycurl_download(url):\n            buffer = BytesIO()\n            c = pycurl.Curl()\n            c.setopt(c.URL, url)\n            c.setopt(c.WRITEDATA, buffer)\n            c.setopt(c.FOLLOWLOCATION, True)\n            c.setopt(c.TIMEOUT, 30)\n            try:\n                c.perform()\n                status_code = c.getinfo(pycurl.RESPONSE_CODE)\n                c.close()\n                if status_code != 200:\n                    raise Exception(f\"HTTP request failed with status code {status_code}\")\n                return buffer\n            except pycurl.error as e:\n                c.close()\n                raise Exception(f\"An error occurred: {e}\")\n    \n        assert isinstance(\n>           Unpywall.download_pdf_handle('10.1038/nature12373'), BytesIO)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_unpywall.py:183: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ndoi = '10.1038/nature12373'\n\n    @staticmethod\n    def download_pdf_handle(doi: str) -> BytesIO:\n        \"\"\"\n        This function returns a file-like object containing the requested PDF.\n    \n        Parameters\n        ----------\n        doi : str\n            The DOI of the requested paper.\n    \n        Returns\n        -------\n        BytesIO\n            The handle of the PDF file.\n        \"\"\"\n        pdf_link = Unpywall.get_pdf_link(doi)\n>       r = requests.get(pdf_link)\n            ^^^^^^^^\nE       NameError: name 'requests' is not defined\n\nunpywall\\__init__.py:426: NameError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_unpywall.py::TestUnpywall::test_progress",
      "lineno": 184,
      "outcome": "passed",
      "keywords": [
        "test_progress",
        "TestUnpywall",
        "test_unpywall.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_unpywall.py::TestUnpywall::test_view_pdf",
      "lineno": 189,
      "outcome": "passed",
      "keywords": [
        "test_view_pdf",
        "TestUnpywall",
        "test_unpywall.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_unpywall.py::TestUnpywall::test_download_pdf_file",
      "lineno": 192,
      "outcome": "failed",
      "keywords": [
        "test_download_pdf_file",
        "TestUnpywall",
        "test_unpywall.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\unpywall@unpywall__7909fde0__requests__pycurl\\unpywall\\__init__.py",
          "lineno": 497,
          "message": "NameError: name 'requests' is not defined"
        },
        "traceback": [
          {
            "path": "tests\\test_unpywall.py",
            "lineno": 198,
            "message": ""
          },
          {
            "path": "unpywall\\__init__.py",
            "lineno": 497,
            "message": "NameError"
          }
        ],
        "longrepr": "self = <tests.test_unpywall.TestUnpywall object at 0x000001C49A083310>\nUnpywall = <class 'unpywall.Unpywall'>\ncapfd = <_pytest.capture.CaptureFixture object at 0x000001C49A0A5950>\n\n    def test_download_pdf_file(self, Unpywall, capfd):\n    \n        filename = 'test.pdf'\n        filepath = './test_dir'\n    \n>       Unpywall.download_pdf_file('10.1038/nature12373',\n                                   filename=filename,\n                                   filepath=filepath,\n                                   progress=True)\n\ntests\\test_unpywall.py:198: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ndoi = '10.1038/nature12373', filename = 'test.pdf', filepath = './test_dir'\nprogress = True\n\n    @staticmethod\n    def download_pdf_file(doi: str,\n                          filename: str,\n                          filepath: str = '.',\n                          progress: bool = False) -> None:\n        \"\"\"\n        This function downloads a PDF from a given DOI.\n    \n        Parameters\n        ----------\n        doi : str\n            The DOI of the requested paper.\n        filename : str\n            The filename for the PDF.\n        filepath : str\n            The path to store the downloaded PDF.\n        progress : bool\n            Whether the progress of the API call should be printed out or not.\n        \"\"\"\n    \n        url = Unpywall.get_pdf_link(doi)\n>       r = requests.get(url, stream=url)\n            ^^^^^^^^\nE       NameError: name 'requests' is not defined\n\nunpywall\\__init__.py:497: NameError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_utils.py::TestUnpywallCredentials::test_validate_email",
      "lineno": 7,
      "outcome": "passed",
      "keywords": [
        "test_validate_email",
        "TestUnpywallCredentials",
        "test_utils.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_utils.py::TestUnpywallURL::test_doi_url",
      "lineno": 36,
      "outcome": "passed",
      "keywords": [
        "test_doi_url",
        "TestUnpywallURL",
        "test_utils.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_utils.py::TestUnpywallURL::test_query_url",
      "lineno": 44,
      "outcome": "passed",
      "keywords": [
        "test_query_url",
        "TestUnpywallURL",
        "test_utils.py",
        "tests",
        "unpywall@unpywall__7909fde0__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    }
  ]
}