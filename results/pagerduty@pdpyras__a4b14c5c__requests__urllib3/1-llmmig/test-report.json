{
  "exitcode": 1,
  "summary": {
    "failed": 6,
    "total": 6,
    "collected": 6
  },
  "collectors": [
    {
      "nodeid": "",
      "outcome": "passed",
      "result": [
        {
          "nodeid": ".",
          "type": "Dir"
        }
      ]
    },
    {
      "nodeid": "docs/_static",
      "outcome": "passed",
      "result": []
    },
    {
      "nodeid": "docs",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "docs/_static",
          "type": "Dir"
        }
      ]
    },
    {
      "nodeid": "pdpyras.egg-info",
      "outcome": "passed",
      "result": []
    },
    {
      "nodeid": "scripts/get_path_list",
      "outcome": "passed",
      "result": []
    },
    {
      "nodeid": "scripts",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "scripts/get_path_list",
          "type": "Dir"
        }
      ]
    },
    {
      "nodeid": "sphinx/source/_static",
      "outcome": "passed",
      "result": []
    },
    {
      "nodeid": "sphinx/source",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "sphinx/source/_static",
          "type": "Dir"
        }
      ]
    },
    {
      "nodeid": "sphinx",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "sphinx/source",
          "type": "Dir"
        }
      ]
    },
    {
      "nodeid": "test_pdpyras.py::SessionTest",
      "outcome": "passed",
      "result": []
    },
    {
      "nodeid": "test_pdpyras.py::URLHandlingTest",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "test_pdpyras.py::URLHandlingTest::test_canonical_path",
          "type": "TestCaseFunction",
          "lineno": 69
        },
        {
          "nodeid": "test_pdpyras.py::URLHandlingTest::test_is_path_param",
          "type": "TestCaseFunction",
          "lineno": 96
        },
        {
          "nodeid": "test_pdpyras.py::URLHandlingTest::test_normalize_url",
          "type": "TestCaseFunction",
          "lineno": 100
        }
      ]
    },
    {
      "nodeid": "test_pdpyras.py::EntityWrappingTest",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "test_pdpyras.py::EntityWrappingTest::test_entity_wrappers",
          "type": "TestCaseFunction",
          "lineno": 138
        },
        {
          "nodeid": "test_pdpyras.py::EntityWrappingTest::test_infer_entity_wrapper",
          "type": "TestCaseFunction",
          "lineno": 169
        },
        {
          "nodeid": "test_pdpyras.py::EntityWrappingTest::test_unwrap",
          "type": "TestCaseFunction",
          "lineno": 182
        }
      ]
    },
    {
      "nodeid": "test_pdpyras.py",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "test_pdpyras.py::SessionTest",
          "type": "UnitTestCase"
        },
        {
          "nodeid": "test_pdpyras.py::URLHandlingTest",
          "type": "UnitTestCase"
        },
        {
          "nodeid": "test_pdpyras.py::EntityWrappingTest",
          "type": "UnitTestCase"
        }
      ]
    },
    {
      "nodeid": ".",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "docs",
          "type": "Dir"
        },
        {
          "nodeid": "pdpyras.egg-info",
          "type": "Dir"
        },
        {
          "nodeid": "scripts",
          "type": "Dir"
        },
        {
          "nodeid": "sphinx",
          "type": "Dir"
        },
        {
          "nodeid": "test_pdpyras.py",
          "type": "Module"
        }
      ]
    }
  ],
  "tests": [
    {
      "nodeid": "test_pdpyras.py::URLHandlingTest::test_canonical_path",
      "lineno": 69,
      "outcome": "failed",
      "keywords": [
        "test_canonical_path",
        "URLHandlingTest",
        "test_pdpyras.py",
        "pagerduty@pdpyras__a4b14c5c__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\pagerduty@pdpyras__a4b14c5c__requests__urllib3\\test_pdpyras.py",
          "lineno": 95,
          "message": "AttributeError: module 'pdpyras' has no attribute 'canonical_path'"
        },
        "traceback": [
          {
            "path": "test_pdpyras.py",
            "lineno": 95,
            "message": "AttributeError"
          }
        ],
        "longrepr": "self = <test_pdpyras.URLHandlingTest testMethod=test_canonical_path>\n\n    def test_canonical_path(self):\n        identified_urls = [\n            (\n                '/services/{id}',\n                '/services/POOPBUG',\n            ),\n            (\n                '/automation_actions/actions/{id}/teams/{team_id}',\n                '/automation_actions/actions/PABC123/teams/PDEF456',\n            ),\n            (\n                '/status_dashboards/url_slugs/{url_slug}/service_impacts',\n                '/status_dashboards/url_slugs/my-awesome-dashboard/service_impacts',\n            ),\n            (\n                '/{entity_type}/{id}/change_tags',\n                '/services/POOPBUG/change_tags',\n            ),\n            ( # for https://github.com/PagerDuty/pdpyras/pull/109\n                '/users/me',\n                '/users/me',\n            ),\n        ]\n        for (pattern, url) in identified_urls:\n            base_url = 'https://api.pagerduty.com'\n>           self.assertEqual(pattern, pdpyras.canonical_path(base_url, url))\nE           AttributeError: module 'pdpyras' has no attribute 'canonical_path'\n\ntest_pdpyras.py:95: AttributeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "test_pdpyras.py::URLHandlingTest::test_is_path_param",
      "lineno": 96,
      "outcome": "failed",
      "keywords": [
        "test_is_path_param",
        "URLHandlingTest",
        "test_pdpyras.py",
        "pagerduty@pdpyras__a4b14c5c__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\pagerduty@pdpyras__a4b14c5c__requests__urllib3\\test_pdpyras.py",
          "lineno": 98,
          "message": "AttributeError: module 'pdpyras' has no attribute 'is_path_param'"
        },
        "traceback": [
          {
            "path": "test_pdpyras.py",
            "lineno": 98,
            "message": "AttributeError"
          }
        ],
        "longrepr": "self = <test_pdpyras.URLHandlingTest testMethod=test_is_path_param>\n\n    def test_is_path_param(self):\n>       self.assertTrue(pdpyras.is_path_param('{id}'))\nE       AttributeError: module 'pdpyras' has no attribute 'is_path_param'\n\ntest_pdpyras.py:98: AttributeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "test_pdpyras.py::URLHandlingTest::test_normalize_url",
      "lineno": 100,
      "outcome": "failed",
      "keywords": [
        "test_normalize_url",
        "URLHandlingTest",
        "test_pdpyras.py",
        "pagerduty@pdpyras__a4b14c5c__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\pagerduty@pdpyras__a4b14c5c__requests__urllib3\\test_pdpyras.py",
          "lineno": 135,
          "message": "AttributeError: module 'pdpyras' has no attribute 'URLError'"
        },
        "traceback": [
          {
            "path": "test_pdpyras.py",
            "lineno": 135,
            "message": "AttributeError"
          }
        ],
        "longrepr": "self = <test_pdpyras.URLHandlingTest testMethod=test_normalize_url>\n\n    def test_normalize_url(self):\n        urls_expected = [\n            (\n                ('https://api.pagerduty.com/', 'users'),\n                'https://api.pagerduty.com/users',\n            ),\n            (\n                ('https://api.pagerduty.com', '/users'),\n                'https://api.pagerduty.com/users',\n            ),\n            (\n                (\n                    'https://api.pagerduty.com',\n                    'https://api.pagerduty.com/users',\n                ),\n                'https://api.pagerduty.com/users',\n            )\n        ]\n        for (base_url_url, expected_url) in urls_expected:\n            self.assertEqual(\n                expected_url,\n                pdpyras.normalize_url(*base_url_url)\n            )\n        invalid_input = [ # URL does not start with base_url\n            (\n                'https://api.pagerduty.com/incidents',\n                'https://events.pagerduty.com/api/v2/enqueue',\n            ),\n            (\n                'https://api.pagerduty.com/services',\n                'https://some.shady-site.com/read-auth-headers',\n            )\n        ]\n        for args in invalid_input:\n>           self.assertRaises(pdpyras.URLError, pdpyras.normalize_url, *args)\nE           AttributeError: module 'pdpyras' has no attribute 'URLError'\n\ntest_pdpyras.py:135: AttributeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "test_pdpyras.py::EntityWrappingTest::test_entity_wrappers",
      "lineno": 138,
      "outcome": "failed",
      "keywords": [
        "test_entity_wrappers",
        "EntityWrappingTest",
        "test_pdpyras.py",
        "pagerduty@pdpyras__a4b14c5c__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\pagerduty@pdpyras__a4b14c5c__requests__urllib3\\test_pdpyras.py",
          "lineno": 168,
          "message": "AttributeError: module 'pdpyras' has no attribute 'entity_wrappers'"
        },
        "traceback": [
          {
            "path": "test_pdpyras.py",
            "lineno": 168,
            "message": "AttributeError"
          }
        ],
        "longrepr": "self = <test_pdpyras.EntityWrappingTest testMethod=test_entity_wrappers>\n\n    def test_entity_wrappers(self):\n        io_expected = [\n            # Special endpoint (broken support v5.0.0 - 5.1.x) managed by script\n            (('get', '/tags/{id}/users'), ('users', 'users')),\n            # Conventional endpoint: singular read\n            (('get', '/services/{id}'), ('service', 'service')),\n            # Conventional endpoint: singular update\n            (('put', '/services/{id}'), ('service', 'service')),\n            # Conventional endpoint: create new\n            (('pOsT', '/services'), ('service', 'service')),\n            # Conventional endpoint: multi-update\n            (('PUT', '/incidents/{id}/alerts'), ('alerts', 'alerts')),\n            # Conventional endpoint: list resources\n            (('get', '/incidents/{id}/alerts'), ('alerts', 'alerts')),\n            # Expanded endpoint support: different request/response wrappers\n            (('put', '/incidents/{id}/merge'), ('source_incidents', 'incident')),\n            # Expanded support: same wrapper for req/res and all methods\n            (\n                ('post', '/event_orchestrations'),\n                ('orchestrations', 'orchestrations')\n            ),\n            (\n                ('get', '/event_orchestrations'),\n                ('orchestrations', 'orchestrations')\n            ),\n            # Disabled\n            (('post', '/analytics/raw/incidents'), (None, None)),\n        ]\n        for ((method, path), rval) in io_expected:\n>           self.assertEqual(rval, pdpyras.entity_wrappers(method, path))\nE           AttributeError: module 'pdpyras' has no attribute 'entity_wrappers'\n\ntest_pdpyras.py:168: AttributeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "test_pdpyras.py::EntityWrappingTest::test_infer_entity_wrapper",
      "lineno": 169,
      "outcome": "failed",
      "keywords": [
        "test_infer_entity_wrapper",
        "EntityWrappingTest",
        "test_pdpyras.py",
        "pagerduty@pdpyras__a4b14c5c__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\pagerduty@pdpyras__a4b14c5c__requests__urllib3\\test_pdpyras.py",
          "lineno": 180,
          "message": "AttributeError: module 'pdpyras' has no attribute 'infer_entity_wrapper'"
        },
        "traceback": [
          {
            "path": "test_pdpyras.py",
            "lineno": 180,
            "message": "AttributeError"
          }
        ],
        "longrepr": "self = <test_pdpyras.EntityWrappingTest testMethod=test_infer_entity_wrapper>\n\n    def test_infer_entity_wrapper(self):\n        io_expected = [\n            (('get', '/users'), 'users'),\n            (('PoSt', '/users'), 'user'),\n            (('PUT', '/service/{id}'), 'service'),\n            (('PUT', '/incidents/{id}/alerts'), 'alerts'),\n        ]\n        for (method_path, expected_wrapper) in io_expected:\n            self.assertEqual(\n                expected_wrapper,\n>               pdpyras.infer_entity_wrapper(*method_path),\n            )\nE           AttributeError: module 'pdpyras' has no attribute 'infer_entity_wrapper'\n\ntest_pdpyras.py:180: AttributeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "test_pdpyras.py::EntityWrappingTest::test_unwrap",
      "lineno": 182,
      "outcome": "failed",
      "keywords": [
        "test_unwrap",
        "EntityWrappingTest",
        "test_pdpyras.py",
        "pagerduty@pdpyras__a4b14c5c__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\pagerduty@pdpyras__a4b14c5c__requests__urllib3\\test_pdpyras.py",
          "lineno": 186,
          "message": "AttributeError: module 'pdpyras' has no attribute 'unwrap'"
        },
        "traceback": [
          {
            "path": "test_pdpyras.py",
            "lineno": 186,
            "message": "AttributeError"
          }
        ],
        "longrepr": "self = <test_pdpyras.EntityWrappingTest testMethod=test_unwrap>\n\n    def test_unwrap(self):\n        # Response has unexpected type, raise:\n        r = Response(200, json.dumps([]))\n>       self.assertRaises(pdpyras.PDServerError, pdpyras.unwrap, r, 'foo')\nE       AttributeError: module 'pdpyras' has no attribute 'unwrap'\n\ntest_pdpyras.py:186: AttributeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    }
  ]
}