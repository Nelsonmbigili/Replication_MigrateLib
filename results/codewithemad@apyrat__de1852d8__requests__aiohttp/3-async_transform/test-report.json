{
  "exitcode": 1,
  "summary": {
    "failed": 7,
    "passed": 1,
    "total": 8,
    "collected": 8
  },
  "collectors": [
    {
      "nodeid": "",
      "outcome": "passed",
      "result": [
        {
          "nodeid": ".",
          "type": "Dir"
        }
      ]
    },
    {
      "nodeid": "apyrat",
      "outcome": "passed",
      "result": []
    },
    {
      "nodeid": "apyrat.egg-info",
      "outcome": "passed",
      "result": []
    },
    {
      "nodeid": "tests/cli_test.py",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "tests/cli_test.py::test_main_download_video_with_quality",
          "type": "Function",
          "lineno": 7
        },
        {
          "nodeid": "tests/cli_test.py::test_main_download_video_without_quality",
          "type": "Function",
          "lineno": 25
        },
        {
          "nodeid": "tests/cli_test.py::test_get_quality_available",
          "type": "Coroutine",
          "lineno": 35
        },
        {
          "nodeid": "tests/cli_test.py::test_get_quality_not_available",
          "type": "Coroutine",
          "lineno": 43
        },
        {
          "nodeid": "tests/cli_test.py::test_get_quality_not_available_no_confirm",
          "type": "Coroutine",
          "lineno": 51
        }
      ]
    },
    {
      "nodeid": "tests/test_apyrat.py",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "tests/test_apyrat.py::test_get_available_videos_single_video",
          "type": "Coroutine",
          "lineno": 5
        },
        {
          "nodeid": "tests/test_apyrat.py::test_default_quality",
          "type": "Coroutine",
          "lineno": 25
        },
        {
          "nodeid": "tests/test_apyrat.py::test_download_when_file_exists",
          "type": "Coroutine",
          "lineno": 32
        }
      ]
    },
    {
      "nodeid": "tests",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "tests/cli_test.py",
          "type": "Module"
        },
        {
          "nodeid": "tests/test_apyrat.py",
          "type": "Module"
        }
      ]
    },
    {
      "nodeid": ".",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "apyrat",
          "type": "Package"
        },
        {
          "nodeid": "apyrat.egg-info",
          "type": "Dir"
        },
        {
          "nodeid": "tests",
          "type": "Package"
        }
      ]
    }
  ],
  "tests": [
    {
      "nodeid": "tests/cli_test.py::test_main_download_video_with_quality",
      "lineno": 7,
      "outcome": "failed",
      "keywords": [
        "test_main_download_video_with_quality",
        "cli_test.py",
        "tests",
        "codewithemad@apyrat__de1852d8__requests__aiohttp",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "C:\\Users\\Mohay\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\unittest\\mock.py",
          "lineno": 923,
          "message": "AssertionError: Expected '_get_available_qualities' to have been called once. Called 0 times."
        },
        "traceback": [
          {
            "path": "tests\\cli_test.py",
            "lineno": 23,
            "message": ""
          },
          {
            "path": "C:\\Users\\Mohay\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\unittest\\mock.py",
            "lineno": 923,
            "message": "AssertionError"
          }
        ],
        "longrepr": "def test_main_download_video_with_quality():\n        runner = CliRunner()\n        with patch(\n            \"apyrat.apyrat.Downloader._get_available_qualities\",\n            return_value=[\"480\", \"720\", \"1080\"],\n        ) as mock_qualities:\n            result = runner.invoke(\n                main,\n                [\n                    \"https://www.aparat.com/v/qur3I\",\n                    \"-q\",\n                    \"720\",\n                ],\n            )\n        assert result.exit_code == 0\n>       mock_qualities.assert_called_once()\n\ntests\\cli_test.py:23: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <MagicMock name='_get_available_qualities' id='1653049073040'>\n\n    def assert_called_once(self):\n        \"\"\"assert that the mock was called only once.\n        \"\"\"\n        if not self.call_count == 1:\n            msg = (\"Expected '%s' to have been called once. Called %s times.%s\"\n                   % (self._mock_name or 'mock',\n                      self.call_count,\n                      self._calls_repr()))\n>           raise AssertionError(msg)\nE           AssertionError: Expected '_get_available_qualities' to have been called once. Called 0 times.\n\nC:\\Users\\Mohay\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\unittest\\mock.py:923: AssertionError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/cli_test.py::test_main_download_video_without_quality",
      "lineno": 25,
      "outcome": "passed",
      "keywords": [
        "test_main_download_video_without_quality",
        "cli_test.py",
        "tests",
        "codewithemad@apyrat__de1852d8__requests__aiohttp",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/cli_test.py::test_get_quality_available",
      "lineno": 35,
      "outcome": "failed",
      "keywords": [
        "test_get_quality_available",
        "asyncio",
        "pytestmark",
        "cli_test.py",
        "tests",
        "codewithemad@apyrat__de1852d8__requests__aiohttp",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\codewithemad@apyrat__de1852d8__requests__aiohttp\\tests\\cli_test.py",
          "lineno": 38,
          "message": "TypeError: __init__() should return None, not 'coroutine'"
        },
        "traceback": [
          {
            "path": "tests\\cli_test.py",
            "lineno": 38,
            "message": "TypeError"
          }
        ],
        "longrepr": "@pytest.mark.asyncio\n    async def test_get_quality_available():\n>       downloader = Downloader(\"https://www.aparat.com/v/qur3I\")\nE       TypeError: __init__() should return None, not 'coroutine'\n\ntests\\cli_test.py:38: TypeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/cli_test.py::test_get_quality_not_available",
      "lineno": 43,
      "outcome": "failed",
      "keywords": [
        "test_get_quality_not_available",
        "asyncio",
        "pytestmark",
        "cli_test.py",
        "tests",
        "codewithemad@apyrat__de1852d8__requests__aiohttp",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\codewithemad@apyrat__de1852d8__requests__aiohttp\\tests\\cli_test.py",
          "lineno": 46,
          "message": "TypeError: __init__() should return None, not 'coroutine'"
        },
        "traceback": [
          {
            "path": "tests\\cli_test.py",
            "lineno": 46,
            "message": "TypeError"
          }
        ],
        "longrepr": "@pytest.mark.asyncio\n    async def test_get_quality_not_available():\n>       downloader = Downloader(\"https://www.aparat.com/v/qur3I\")\nE       TypeError: __init__() should return None, not 'coroutine'\n\ntests\\cli_test.py:46: TypeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/cli_test.py::test_get_quality_not_available_no_confirm",
      "lineno": 51,
      "outcome": "failed",
      "keywords": [
        "test_get_quality_not_available_no_confirm",
        "asyncio",
        "pytestmark",
        "cli_test.py",
        "tests",
        "codewithemad@apyrat__de1852d8__requests__aiohttp",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\codewithemad@apyrat__de1852d8__requests__aiohttp\\tests\\cli_test.py",
          "lineno": 54,
          "message": "TypeError: __init__() should return None, not 'coroutine'"
        },
        "traceback": [
          {
            "path": "tests\\cli_test.py",
            "lineno": 54,
            "message": "TypeError"
          }
        ],
        "longrepr": "@pytest.mark.asyncio\n    async def test_get_quality_not_available_no_confirm():\n>       downloader = Downloader(\"https://www.aparat.com/v/qur3I\")\nE       TypeError: __init__() should return None, not 'coroutine'\n\ntests\\cli_test.py:54: TypeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_apyrat.py::test_get_available_videos_single_video",
      "lineno": 5,
      "outcome": "failed",
      "keywords": [
        "test_get_available_videos_single_video",
        "asyncio",
        "__wrapped__",
        "patchings",
        "pytestmark",
        "test_apyrat.py",
        "tests",
        "codewithemad@apyrat__de1852d8__requests__aiohttp",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\codewithemad@apyrat__de1852d8__requests__aiohttp\\tests\\test_apyrat.py",
          "lineno": 20,
          "message": "TypeError: __init__() should return None, not 'coroutine'"
        },
        "traceback": [
          {
            "path": "tests\\test_apyrat.py",
            "lineno": 20,
            "message": "TypeError"
          }
        ],
        "longrepr": "mock_get = <MagicMock name='get' id='1653053654608'>\n\n    @pytest.mark.asyncio\n    @patch(\"requests.get\")\n    async def test_get_available_videos_single_video(mock_get):\n        mock_get.return_value.json.return_value = {\n            \"data\": {\n                \"attributes\": {\n                    \"title\": \"My Video Title\",\n                    \"file_link_all\": [\n                        {\"profile\": \"720p\", \"urls\": [\"https://link-to-video\"]},\n                        {\"profile\": \"1080p\", \"urls\": [\"https://link-to-video\"]},\n                    ],\n                }\n            }\n        }\n>       downloader = Downloader(\"https://www.aparat.com/v/qur3I\", \"outputfile\")\nE       TypeError: __init__() should return None, not 'coroutine'\n\ntests\\test_apyrat.py:20: TypeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_apyrat.py::test_default_quality",
      "lineno": 25,
      "outcome": "failed",
      "keywords": [
        "test_default_quality",
        "asyncio",
        "pytestmark",
        "test_apyrat.py",
        "tests",
        "codewithemad@apyrat__de1852d8__requests__aiohttp",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\codewithemad@apyrat__de1852d8__requests__aiohttp\\tests\\test_apyrat.py",
          "lineno": 28,
          "message": "TypeError: __init__() should return None, not 'coroutine'"
        },
        "traceback": [
          {
            "path": "tests\\test_apyrat.py",
            "lineno": 28,
            "message": "TypeError"
          }
        ],
        "longrepr": "@pytest.mark.asyncio\n    async def test_default_quality():\n>       downloader = Downloader(\"https://www.aparat.com/v/qur3I\", \"outputfile\")\nE       TypeError: __init__() should return None, not 'coroutine'\n\ntests\\test_apyrat.py:28: TypeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_apyrat.py::test_download_when_file_exists",
      "lineno": 32,
      "outcome": "failed",
      "keywords": [
        "test_download_when_file_exists",
        "asyncio",
        "__wrapped__",
        "patchings",
        "pytestmark",
        "test_apyrat.py",
        "tests",
        "codewithemad@apyrat__de1852d8__requests__aiohttp",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\codewithemad@apyrat__de1852d8__requests__aiohttp\\tests\\test_apyrat.py",
          "lineno": 37,
          "message": "TypeError: __init__() should return None, not 'coroutine'"
        },
        "traceback": [
          {
            "path": "tests\\test_apyrat.py",
            "lineno": 37,
            "message": "TypeError"
          }
        ],
        "longrepr": "mock_wget = <MagicMock name='download' id='1653054385248'>\nmock_isfile = <MagicMock name='isfile' id='1653054360512'>\n\n    @pytest.mark.asyncio\n    @patch(\"os.path.isfile\", return_value=True)\n    @patch(\"wget.download\")\n    async def test_download_when_file_exists(mock_wget, mock_isfile):\n>       downloader = Downloader(\"https://www.aparat.com/v/qur3I\", \"outputfile\")\nE       TypeError: __init__() should return None, not 'coroutine'\n\ntests\\test_apyrat.py:37: TypeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    }
  ],
  "warnings": [
    {
      "message": "coroutine 'Downloader.__init__' was never awaited",
      "category": "RuntimeWarning",
      "when": "runtest",
      "filename": "D:\\repos\\codewithemad@apyrat__de1852d8__requests__aiohttp\\tests\\cli_test.py",
      "lineno": 38
    },
    {
      "message": "coroutine 'Downloader.__init__' was never awaited",
      "category": "RuntimeWarning",
      "when": "runtest",
      "filename": "D:\\repos\\codewithemad@apyrat__de1852d8__requests__aiohttp\\tests\\cli_test.py",
      "lineno": 46
    },
    {
      "message": "coroutine 'Downloader.__init__' was never awaited",
      "category": "RuntimeWarning",
      "when": "runtest",
      "filename": "D:\\repos\\codewithemad@apyrat__de1852d8__requests__aiohttp\\tests\\cli_test.py",
      "lineno": 54
    },
    {
      "message": "coroutine 'main' was never awaited",
      "category": "RuntimeWarning",
      "when": "runtest",
      "filename": "D:\\repos\\codewithemad@apyrat__de1852d8__requests__aiohttp\\.venv\\Lib\\site-packages\\requests\\__init__.py",
      "lineno": 147
    },
    {
      "message": "coroutine 'Downloader.__init__' was never awaited",
      "category": "RuntimeWarning",
      "when": "runtest",
      "filename": "D:\\repos\\codewithemad@apyrat__de1852d8__requests__aiohttp\\tests\\test_apyrat.py",
      "lineno": 20
    },
    {
      "message": "coroutine 'Downloader.__init__' was never awaited",
      "category": "RuntimeWarning",
      "when": "runtest",
      "filename": "D:\\repos\\codewithemad@apyrat__de1852d8__requests__aiohttp\\tests\\test_apyrat.py",
      "lineno": 28
    },
    {
      "message": "coroutine 'Downloader.__init__' was never awaited",
      "category": "RuntimeWarning",
      "when": "runtest",
      "filename": "D:\\repos\\codewithemad@apyrat__de1852d8__requests__aiohttp\\tests\\test_apyrat.py",
      "lineno": 37
    }
  ]
}