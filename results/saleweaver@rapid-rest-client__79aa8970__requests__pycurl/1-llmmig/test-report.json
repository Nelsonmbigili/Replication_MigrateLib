{
  "exitcode": 1,
  "summary": {
    "passed": 8,
    "failed": 1,
    "total": 9,
    "collected": 9
  },
  "collectors": [
    {
      "nodeid": "",
      "outcome": "passed",
      "result": [
        {
          "nodeid": ".",
          "type": "Dir"
        }
      ]
    },
    {
      "nodeid": "rapid_rest_client.egg-info",
      "outcome": "passed",
      "result": []
    },
    {
      "nodeid": "rest_client/base",
      "outcome": "passed",
      "result": []
    },
    {
      "nodeid": "rest_client",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "rest_client/base",
          "type": "Package"
        }
      ]
    },
    {
      "nodeid": "tests/base/test_client.py",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "tests/base/test_client.py::test_request_no_auth",
          "type": "Function",
          "lineno": 282
        },
        {
          "nodeid": "tests/base/test_client.py::test_request_no_auth_with_query_params",
          "type": "Function",
          "lineno": 287
        },
        {
          "nodeid": "tests/base/test_client.py::test_register_user_post",
          "type": "Function",
          "lineno": 292
        },
        {
          "nodeid": "tests/base/test_client.py::test_register_user_post_with_bearer_auth",
          "type": "Function",
          "lineno": 297
        },
        {
          "nodeid": "tests/base/test_client.py::test_json_configured_client",
          "type": "Function",
          "lineno": 306
        },
        {
          "nodeid": "tests/base/test_client.py::test_swagger_configured_client_find_by_status",
          "type": "Function",
          "lineno": 311
        },
        {
          "nodeid": "tests/base/test_client.py::test_swagger_url_configured_client_find_by_status",
          "type": "Function",
          "lineno": 316
        }
      ]
    },
    {
      "nodeid": "tests/base/test_endpoint_config.py",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "tests/base/test_endpoint_config.py::test_create_endpoint_config",
          "type": "Function",
          "lineno": 8
        },
        {
          "nodeid": "tests/base/test_endpoint_config.py::test_fail_on_assign",
          "type": "Function",
          "lineno": 14
        }
      ]
    },
    {
      "nodeid": "tests/base",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "tests/base/test_client.py",
          "type": "Module"
        },
        {
          "nodeid": "tests/base/test_endpoint_config.py",
          "type": "Module"
        }
      ]
    },
    {
      "nodeid": "tests",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "tests/base",
          "type": "Package"
        }
      ]
    },
    {
      "nodeid": ".",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "rapid_rest_client.egg-info",
          "type": "Dir"
        },
        {
          "nodeid": "rest_client",
          "type": "Package"
        },
        {
          "nodeid": "tests",
          "type": "Package"
        }
      ]
    }
  ],
  "tests": [
    {
      "nodeid": "tests/base/test_client.py::test_request_no_auth",
      "lineno": 282,
      "outcome": "passed",
      "keywords": [
        "test_request_no_auth",
        "test_client.py",
        "base",
        "tests",
        "saleweaver@rapid-rest-client__79aa8970__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/base/test_client.py::test_request_no_auth_with_query_params",
      "lineno": 287,
      "outcome": "passed",
      "keywords": [
        "test_request_no_auth_with_query_params",
        "test_client.py",
        "base",
        "tests",
        "saleweaver@rapid-rest-client__79aa8970__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/base/test_client.py::test_register_user_post",
      "lineno": 292,
      "outcome": "passed",
      "keywords": [
        "test_register_user_post",
        "test_client.py",
        "base",
        "tests",
        "saleweaver@rapid-rest-client__79aa8970__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/base/test_client.py::test_register_user_post_with_bearer_auth",
      "lineno": 297,
      "outcome": "failed",
      "keywords": [
        "test_register_user_post_with_bearer_auth",
        "test_client.py",
        "base",
        "tests",
        "saleweaver@rapid-rest-client__79aa8970__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\saleweaver@rapid-rest-client__79aa8970__requests__pycurl\\tests\\base\\test_client.py",
          "lineno": 304,
          "message": "assert 401 == 422\n +  where 401 = ApiException({'meta': None, 'data': {'message': 'Authentication failed'}}, 'HTTP/2 401 \\r\\ndate: Tue, 22 Apr 2025 22:0...he-status: DYNAMIC\\r\\nserver: cloudflare\\r\\ncf-ray: 934867b60a4a347d-SEA\\r\\nalt-svc: h3=\":443\"; ma=86400\\r\\n\\r\\n', 401).status_code"
        },
        "traceback": [
          {
            "path": "tests\\base\\test_client.py",
            "lineno": 304,
            "message": "AssertionError"
          }
        ],
        "longrepr": "def test_register_user_post_with_bearer_auth():\n        try:\n>           res = auth_client.register_user(\n                **{\"name\": \"Tenali Ramakrishna\", \"gender\": \"male\", \"email\": \"fhtderze@15ce.com\", \"status\": \"active\"})\n\ntests\\base\\test_client.py:300: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nrest_client\\base\\client.py:154: in wrapper\n    return self.method_template(self.endpoints.get(item))(*args, **kwargs)\nrest_client\\base\\client.py:165: in fn\n    return self._request(kwargs)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <tests.base.test_client.AuthClient object at 0x000002117DBCAD80>\ndata = {'email': 'fhtderze@15ce.com', 'gender': 'male', 'name': 'Tenali Ramakrishna', 'status': 'active'}\nargs = (), kwargs = {}\nrequest_config = RequestConfig(path='users', name='register_user', method='POST', options=<class 'dict'>)\nurl = 'https://gorest.co.in/public/v1/users'\nheaders = {'Content-Type': 'application/json;charset=UTF-8', 'User-Agent': 'saleweaver-base-client-0.0.5'}\nheaders_list = ['Content-Type: application/json;charset=UTF-8', 'User-Agent: saleweaver-base-client-0.0.5']\npayload = '{\"name\": \"Tenali Ramakrishna\", \"gender\": \"male\", \"email\": \"fhtderze@15ce.com\", \"status\": \"active\"}'\ncurl = <pycurl.Curl object at 0x000002117D1EEAE0>\nresponse_buffer = <_io.BytesIO object at 0x000002117DC11DA0>\nheader_buffer = <_io.BytesIO object at 0x000002117DC11D50>\n\n    def _request(self, data: dict, *args, **kwargs) -> ApiResponse:\n        request_config: RequestConfig = data.pop('request_config')\n        log.debug(request_config)\n        self._log_request(args, data, kwargs, request_config)\n    \n        # Prepare the URL, headers, and data\n        url = self._path(request_config.path)\n        headers = kwargs.pop('headers', self.headers)\n        headers_list = [f\"{key}: {value}\" for key, value in headers.items()]\n        payload = data.get('payload') or json.dumps(data) if data and request_config.method in ('POST', 'PUT', 'PATCH') else None\n    \n        # Initialize pycurl\n        curl = pycurl.Curl()\n        response_buffer = BytesIO()\n        header_buffer = BytesIO()\n    \n        try:\n            # Set URL\n            curl.setopt(pycurl.URL, url)\n    \n            # Set HTTP method\n            if request_config.method == 'POST':\n                curl.setopt(pycurl.POST, 1)\n                if payload:\n                    curl.setopt(pycurl.POSTFIELDS, payload)\n            elif request_config.method in ('PUT', 'PATCH'):\n                curl.setopt(pycurl.CUSTOMREQUEST, request_config.method)\n                if payload:\n                    curl.setopt(pycurl.POSTFIELDS, payload)\n            elif request_config.method == 'DELETE':\n                curl.setopt(pycurl.CUSTOMREQUEST, 'DELETE')\n            elif request_config.method == 'GET':\n                if data:\n                    # Append query parameters to the URL\n                    query_params = '&'.join([f\"{key}={value}\" for key, value in data.items()])\n                    curl.setopt(pycurl.URL, f\"{url}?{query_params}\")\n    \n            # Set headers\n            curl.setopt(pycurl.HTTPHEADER, headers_list)\n    \n            # Capture response body and headers\n            curl.setopt(pycurl.WRITEFUNCTION, response_buffer.write)\n            curl.setopt(pycurl.HEADERFUNCTION, header_buffer.write)\n    \n            # Perform the request\n            curl.perform()\n    \n            # Extract response details\n            status_code = curl.getinfo(pycurl.RESPONSE_CODE)\n            response_body = response_buffer.getvalue().decode('utf-8')\n            response_headers = header_buffer.getvalue().decode('utf-8')\n    \n            self._log_response(response_body, status_code, response_headers)\n    \n            # Parse the response\n            try:\n                response = json.loads(response_body)\n            except JSONDecodeError:\n                response = response_body\n    \n            if 200 <= status_code < 400:\n                return ApiResponse(response, response_headers, status_code)\n>           raise ApiException(response, response_headers, status_code)\nE           rest_client.base.exceptions.ApiException: ({'meta': None, 'data': {'message': 'Authentication failed'}}, 'HTTP/2 401 \\r\\ndate: Tue, 22 Apr 2025 22:02:23 GMT\\r\\ncontent-type: application/json; charset=utf-8\\r\\ncontent-length: 56\\r\\ncache-control: no-cache\\r\\nfeature-policy: camera \\'none\\'; gyroscope \\'none\\'; microphone \\'none\\'; usb \\'none\\'; fullscreen \\'self\\'\\r\\nreferrer-policy: strict-origin-when-cross-origin\\r\\nvary: Origin\\r\\nx-content-type-options: nosniff\\r\\nx-download-options: noopen\\r\\nx-frame-options: SAMEORIGIN\\r\\nx-permitted-cross-domain-policies: none\\r\\nx-request-id: ba7713b3-4eb6-4eb0-8b3a-e8962d52e488\\r\\nx-runtime: 0.008791\\r\\nx-xss-protection: 0\\r\\ncf-cache-status: DYNAMIC\\r\\nserver: cloudflare\\r\\ncf-ray: 934867b60a4a347d-SEA\\r\\nalt-svc: h3=\":443\"; ma=86400\\r\\n\\r\\n', 401)\n\nrest_client\\base\\client.py:125: ApiException\n\nDuring handling of the above exception, another exception occurred:\n\n    def test_register_user_post_with_bearer_auth():\n        try:\n            res = auth_client.register_user(\n                **{\"name\": \"Tenali Ramakrishna\", \"gender\": \"male\", \"email\": \"fhtderze@15ce.com\", \"status\": \"active\"})\n            assert res.status_code == 201\n        except ApiException as e:\n>           assert e.status_code == 422\nE           assert 401 == 422\nE            +  where 401 = ApiException({'meta': None, 'data': {'message': 'Authentication failed'}}, 'HTTP/2 401 \\r\\ndate: Tue, 22 Apr 2025 22:0...he-status: DYNAMIC\\r\\nserver: cloudflare\\r\\ncf-ray: 934867b60a4a347d-SEA\\r\\nalt-svc: h3=\":443\"; ma=86400\\r\\n\\r\\n', 401).status_code\n\ntests\\base\\test_client.py:304: AssertionError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/base/test_client.py::test_json_configured_client",
      "lineno": 306,
      "outcome": "passed",
      "keywords": [
        "test_json_configured_client",
        "test_client.py",
        "base",
        "tests",
        "saleweaver@rapid-rest-client__79aa8970__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/base/test_client.py::test_swagger_configured_client_find_by_status",
      "lineno": 311,
      "outcome": "passed",
      "keywords": [
        "test_swagger_configured_client_find_by_status",
        "test_client.py",
        "base",
        "tests",
        "saleweaver@rapid-rest-client__79aa8970__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/base/test_client.py::test_swagger_url_configured_client_find_by_status",
      "lineno": 316,
      "outcome": "passed",
      "keywords": [
        "test_swagger_url_configured_client_find_by_status",
        "test_client.py",
        "base",
        "tests",
        "saleweaver@rapid-rest-client__79aa8970__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/base/test_endpoint_config.py::test_create_endpoint_config",
      "lineno": 8,
      "outcome": "passed",
      "keywords": [
        "test_create_endpoint_config",
        "test_endpoint_config.py",
        "base",
        "tests",
        "saleweaver@rapid-rest-client__79aa8970__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/base/test_endpoint_config.py::test_fail_on_assign",
      "lineno": 14,
      "outcome": "passed",
      "keywords": [
        "test_fail_on_assign",
        "test_endpoint_config.py",
        "base",
        "tests",
        "saleweaver@rapid-rest-client__79aa8970__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    }
  ]
}