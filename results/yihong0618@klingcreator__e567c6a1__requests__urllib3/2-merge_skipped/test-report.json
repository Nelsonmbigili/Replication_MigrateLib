{
  "exitcode": 1,
  "summary": {
    "error": 13,
    "passed": 1,
    "failed": 7,
    "total": 21,
    "collected": 21
  },
  "collectors": [
    {
      "nodeid": "",
      "outcome": "passed",
      "result": [
        {
          "nodeid": ".",
          "type": "Dir"
        }
      ]
    },
    {
      "nodeid": "kling",
      "outcome": "passed",
      "result": []
    },
    {
      "nodeid": "kling_creator.egg-info",
      "outcome": "passed",
      "result": []
    },
    {
      "nodeid": "tests/test_kling.py",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "tests/test_kling.py::test_base_gen_init",
          "type": "Function",
          "lineno": 33
        },
        {
          "nodeid": "tests/test_kling.py::test_image_gen_init",
          "type": "Function",
          "lineno": 38
        },
        {
          "nodeid": "tests/test_kling.py::test_video_gen_init",
          "type": "Function",
          "lineno": 43
        },
        {
          "nodeid": "tests/test_kling.py::test_parse_cookie_string",
          "type": "Function",
          "lineno": 48
        },
        {
          "nodeid": "tests/test_kling.py::test_get_account_point[ImageGen]",
          "type": "Function",
          "lineno": 59
        },
        {
          "nodeid": "tests/test_kling.py::test_get_account_point[VideoGen]",
          "type": "Function",
          "lineno": 59
        },
        {
          "nodeid": "tests/test_kling.py::test_image_uploader",
          "type": "Function",
          "lineno": 69
        },
        {
          "nodeid": "tests/test_kling.py::test_fetch_metadata",
          "type": "Function",
          "lineno": 84
        },
        {
          "nodeid": "tests/test_kling.py::test_get_content[ImageGen-get_images]",
          "type": "Function",
          "lineno": 107
        },
        {
          "nodeid": "tests/test_kling.py::test_get_content[VideoGen-get_video]",
          "type": "Function",
          "lineno": 107
        },
        {
          "nodeid": "tests/test_kling.py::test_save_content[ImageGen-save_images]",
          "type": "Function",
          "lineno": 129
        },
        {
          "nodeid": "tests/test_kling.py::test_save_content[VideoGen-save_video]",
          "type": "Function",
          "lineno": 129
        },
        {
          "nodeid": "tests/test_kling.py::test_call_for_daily_check",
          "type": "Function",
          "lineno": 157
        },
        {
          "nodeid": "tests/test_kling.py::test_video_gen_get_video",
          "type": "Function",
          "lineno": 172
        },
        {
          "nodeid": "tests/test_kling.py::test_video_gen_save_video",
          "type": "Function",
          "lineno": 195
        },
        {
          "nodeid": "tests/test_kling.py::test_image_gen_get_images",
          "type": "Function",
          "lineno": 217
        },
        {
          "nodeid": "tests/test_kling.py::test_image_gen_save_images",
          "type": "Function",
          "lineno": 237
        },
        {
          "nodeid": "tests/test_kling.py::test_extend_video_completed",
          "type": "Function",
          "lineno": 260
        },
        {
          "nodeid": "tests/test_kling.py::test_extend_video_pending",
          "type": "Function",
          "lineno": 272
        },
        {
          "nodeid": "tests/test_kling.py::test_extend_video_failed",
          "type": "Function",
          "lineno": 283
        },
        {
          "nodeid": "tests/test_kling.py::test_extend_video_no_works",
          "type": "Function",
          "lineno": 294
        }
      ]
    },
    {
      "nodeid": "tests",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "tests/test_kling.py",
          "type": "Module"
        }
      ]
    },
    {
      "nodeid": ".",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "kling",
          "type": "Package"
        },
        {
          "nodeid": "kling_creator.egg-info",
          "type": "Dir"
        },
        {
          "nodeid": "tests",
          "type": "Dir"
        }
      ]
    }
  ],
  "tests": [
    {
      "nodeid": "tests/test_kling.py::test_base_gen_init",
      "lineno": 33,
      "outcome": "error",
      "keywords": [
        "test_base_gen_init",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__urllib3\\kling\\kling.py",
          "lineno": 30,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 21,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 30,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_session = <MagicMock name='PoolManager()' id='2079926893072'>\n\n    @pytest.fixture\n    def base_gen(mock_session):\n>       return BaseGen(\"mock_cookie\")\n               ^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_kling.py:21: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.http, self.cookies, is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nhttp = <MagicMock name='PoolManager()' id='2079926893072'>, cookies = {}\nis_cn = False\n\n    def call_for_daily_check(http: urllib3.PoolManager, cookies: dict, is_cn: bool) -> bool:\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        headers = {\"Cookie\": \"; \".join([f\"{k}={v}\" for k, v in cookies.items()])}\n        response = http.request(\"GET\", url, headers=headers)\n        if response.status == 200:\n            print(f\"Call daily login success with {is_cn}:\\n{json.loads(response.data.decode())}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:30: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_image_gen_init",
      "lineno": 38,
      "outcome": "error",
      "keywords": [
        "test_image_gen_init",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__urllib3\\kling\\kling.py",
          "lineno": 30,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 26,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 30,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_session = <MagicMock name='PoolManager()' id='2079914015120'>\n\n    @pytest.fixture\n    def image_gen(mock_session):\n>       return ImageGen(\"mock_cookie\")\n               ^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_kling.py:26: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.http, self.cookies, is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nhttp = <MagicMock name='PoolManager()' id='2079914015120'>, cookies = {}\nis_cn = False\n\n    def call_for_daily_check(http: urllib3.PoolManager, cookies: dict, is_cn: bool) -> bool:\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        headers = {\"Cookie\": \"; \".join([f\"{k}={v}\" for k, v in cookies.items()])}\n        response = http.request(\"GET\", url, headers=headers)\n        if response.status == 200:\n            print(f\"Call daily login success with {is_cn}:\\n{json.loads(response.data.decode())}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:30: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_video_gen_init",
      "lineno": 43,
      "outcome": "error",
      "keywords": [
        "test_video_gen_init",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__urllib3\\kling\\kling.py",
          "lineno": 30,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 31,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 30,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_session = <MagicMock name='PoolManager()' id='2079906720336'>\n\n    @pytest.fixture\n    def video_gen(mock_session):\n>       return VideoGen(\"mock_cookie\")\n               ^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_kling.py:31: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.http, self.cookies, is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nhttp = <MagicMock name='PoolManager()' id='2079906720336'>, cookies = {}\nis_cn = False\n\n    def call_for_daily_check(http: urllib3.PoolManager, cookies: dict, is_cn: bool) -> bool:\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        headers = {\"Cookie\": \"; \".join([f\"{k}={v}\" for k, v in cookies.items()])}\n        response = http.request(\"GET\", url, headers=headers)\n        if response.status == 200:\n            print(f\"Call daily login success with {is_cn}:\\n{json.loads(response.data.decode())}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:30: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_parse_cookie_string",
      "lineno": 48,
      "outcome": "passed",
      "keywords": [
        "test_parse_cookie_string",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_get_account_point[ImageGen]",
      "lineno": 59,
      "outcome": "failed",
      "keywords": [
        "test_get_account_point[ImageGen]",
        "parametrize",
        "pytestmark",
        "ImageGen",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__urllib3\\kling\\kling.py",
          "lineno": 30,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 62,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 30,
            "message": "Exception"
          }
        ],
        "longrepr": "gen_class = <class 'kling.kling.ImageGen'>\nmock_session = <MagicMock name='PoolManager()' id='2079913597264'>\n\n    @pytest.mark.parametrize(\"gen_class\", [ImageGen, VideoGen])\n    def test_get_account_point(gen_class, mock_session):\n>       gen = gen_class(\"mock_cookie\")\n              ^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_kling.py:62: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.http, self.cookies, is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nhttp = <MagicMock name='PoolManager()' id='2079913597264'>, cookies = {}\nis_cn = False\n\n    def call_for_daily_check(http: urllib3.PoolManager, cookies: dict, is_cn: bool) -> bool:\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        headers = {\"Cookie\": \"; \".join([f\"{k}={v}\" for k, v in cookies.items()])}\n        response = http.request(\"GET\", url, headers=headers)\n        if response.status == 200:\n            print(f\"Call daily login success with {is_cn}:\\n{json.loads(response.data.decode())}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:30: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_get_account_point[VideoGen]",
      "lineno": 59,
      "outcome": "failed",
      "keywords": [
        "test_get_account_point[VideoGen]",
        "parametrize",
        "pytestmark",
        "VideoGen",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__urllib3\\kling\\kling.py",
          "lineno": 30,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 62,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 30,
            "message": "Exception"
          }
        ],
        "longrepr": "gen_class = <class 'kling.kling.VideoGen'>\nmock_session = <MagicMock name='PoolManager()' id='2079927430352'>\n\n    @pytest.mark.parametrize(\"gen_class\", [ImageGen, VideoGen])\n    def test_get_account_point(gen_class, mock_session):\n>       gen = gen_class(\"mock_cookie\")\n              ^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_kling.py:62: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.http, self.cookies, is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nhttp = <MagicMock name='PoolManager()' id='2079927430352'>, cookies = {}\nis_cn = False\n\n    def call_for_daily_check(http: urllib3.PoolManager, cookies: dict, is_cn: bool) -> bool:\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        headers = {\"Cookie\": \"; \".join([f\"{k}={v}\" for k, v in cookies.items()])}\n        response = http.request(\"GET\", url, headers=headers)\n        if response.status == 200:\n            print(f\"Call daily login success with {is_cn}:\\n{json.loads(response.data.decode())}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:30: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_image_uploader",
      "lineno": 69,
      "outcome": "error",
      "keywords": [
        "test_image_uploader",
        "__wrapped__",
        "patchings",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__urllib3\\kling\\kling.py",
          "lineno": 30,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 26,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 30,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_session = <MagicMock name='PoolManager()' id='2079913661840'>\n\n    @pytest.fixture\n    def image_gen(mock_session):\n>       return ImageGen(\"mock_cookie\")\n               ^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_kling.py:26: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.http, self.cookies, is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nhttp = <MagicMock name='PoolManager()' id='2079913661840'>, cookies = {}\nis_cn = False\n\n    def call_for_daily_check(http: urllib3.PoolManager, cookies: dict, is_cn: bool) -> bool:\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        headers = {\"Cookie\": \"; \".join([f\"{k}={v}\" for k, v in cookies.items()])}\n        response = http.request(\"GET\", url, headers=headers)\n        if response.status == 200:\n            print(f\"Call daily login success with {is_cn}:\\n{json.loads(response.data.decode())}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:30: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_fetch_metadata",
      "lineno": 84,
      "outcome": "error",
      "keywords": [
        "test_fetch_metadata",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__urllib3\\kling\\kling.py",
          "lineno": 30,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 21,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 30,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_session = <MagicMock name='PoolManager()' id='2079927452880'>\n\n    @pytest.fixture\n    def base_gen(mock_session):\n>       return BaseGen(\"mock_cookie\")\n               ^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_kling.py:21: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.http, self.cookies, is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nhttp = <MagicMock name='PoolManager()' id='2079927452880'>, cookies = {}\nis_cn = False\n\n    def call_for_daily_check(http: urllib3.PoolManager, cookies: dict, is_cn: bool) -> bool:\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        headers = {\"Cookie\": \"; \".join([f\"{k}={v}\" for k, v in cookies.items()])}\n        response = http.request(\"GET\", url, headers=headers)\n        if response.status == 200:\n            print(f\"Call daily login success with {is_cn}:\\n{json.loads(response.data.decode())}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:30: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_get_content[ImageGen-get_images]",
      "lineno": 107,
      "outcome": "failed",
      "keywords": [
        "test_get_content[ImageGen-get_images]",
        "parametrize",
        "pytestmark",
        "ImageGen-get_images",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__urllib3\\kling\\kling.py",
          "lineno": 30,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 112,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 30,
            "message": "Exception"
          }
        ],
        "longrepr": "gen_class = <class 'kling.kling.ImageGen'>, method_name = 'get_images'\nmock_session = <MagicMock name='PoolManager()' id='2079910412432'>\n\n    @pytest.mark.parametrize(\n        \"gen_class,method_name\", [(ImageGen, \"get_images\"), (VideoGen, \"get_video\")]\n    )\n    def test_get_content(gen_class, method_name, mock_session):\n>       gen = gen_class(\"mock_cookie\")\n              ^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_kling.py:112: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.http, self.cookies, is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nhttp = <MagicMock name='PoolManager()' id='2079910412432'>, cookies = {}\nis_cn = False\n\n    def call_for_daily_check(http: urllib3.PoolManager, cookies: dict, is_cn: bool) -> bool:\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        headers = {\"Cookie\": \"; \".join([f\"{k}={v}\" for k, v in cookies.items()])}\n        response = http.request(\"GET\", url, headers=headers)\n        if response.status == 200:\n            print(f\"Call daily login success with {is_cn}:\\n{json.loads(response.data.decode())}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:30: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_get_content[VideoGen-get_video]",
      "lineno": 107,
      "outcome": "failed",
      "keywords": [
        "test_get_content[VideoGen-get_video]",
        "parametrize",
        "pytestmark",
        "VideoGen-get_video",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__urllib3\\kling\\kling.py",
          "lineno": 30,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 112,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 30,
            "message": "Exception"
          }
        ],
        "longrepr": "gen_class = <class 'kling.kling.VideoGen'>, method_name = 'get_video'\nmock_session = <MagicMock name='PoolManager()' id='2079927464208'>\n\n    @pytest.mark.parametrize(\n        \"gen_class,method_name\", [(ImageGen, \"get_images\"), (VideoGen, \"get_video\")]\n    )\n    def test_get_content(gen_class, method_name, mock_session):\n>       gen = gen_class(\"mock_cookie\")\n              ^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_kling.py:112: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.http, self.cookies, is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nhttp = <MagicMock name='PoolManager()' id='2079927464208'>, cookies = {}\nis_cn = False\n\n    def call_for_daily_check(http: urllib3.PoolManager, cookies: dict, is_cn: bool) -> bool:\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        headers = {\"Cookie\": \"; \".join([f\"{k}={v}\" for k, v in cookies.items()])}\n        response = http.request(\"GET\", url, headers=headers)\n        if response.status == 200:\n            print(f\"Call daily login success with {is_cn}:\\n{json.loads(response.data.decode())}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:30: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_save_content[ImageGen-save_images]",
      "lineno": 129,
      "outcome": "failed",
      "keywords": [
        "test_save_content[ImageGen-save_images]",
        "parametrize",
        "__wrapped__",
        "patchings",
        "pytestmark",
        "ImageGen-save_images",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__urllib3\\kling\\kling.py",
          "lineno": 30,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 136,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 30,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_mkdir = <MagicMock name='mkdir' id='2079928197904'>\nmock_exists = <MagicMock name='exists' id='2079914378000'>\ngen_class = <class 'kling.kling.ImageGen'>, method_name = 'save_images'\nmock_session = <MagicMock name='PoolManager()' id='2079928200592'>\n\n    @pytest.mark.parametrize(\n        \"gen_class,method_name\", [(ImageGen, \"save_images\"), (VideoGen, \"save_video\")]\n    )\n    @patch(\"os.path.exists\", return_value=False)\n    @patch(\"os.mkdir\")\n    def test_save_content(mock_mkdir, mock_exists, gen_class, method_name, mock_session):\n>       gen = gen_class(\"mock_cookie\")\n              ^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_kling.py:136: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.http, self.cookies, is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nhttp = <MagicMock name='PoolManager()' id='2079928200592'>, cookies = {}\nis_cn = False\n\n    def call_for_daily_check(http: urllib3.PoolManager, cookies: dict, is_cn: bool) -> bool:\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        headers = {\"Cookie\": \"; \".join([f\"{k}={v}\" for k, v in cookies.items()])}\n        response = http.request(\"GET\", url, headers=headers)\n        if response.status == 200:\n            print(f\"Call daily login success with {is_cn}:\\n{json.loads(response.data.decode())}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:30: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_save_content[VideoGen-save_video]",
      "lineno": 129,
      "outcome": "failed",
      "keywords": [
        "test_save_content[VideoGen-save_video]",
        "parametrize",
        "__wrapped__",
        "patchings",
        "pytestmark",
        "VideoGen-save_video",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__urllib3\\kling\\kling.py",
          "lineno": 30,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 136,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 30,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_mkdir = <MagicMock name='mkdir' id='2079913593488'>\nmock_exists = <MagicMock name='exists' id='2079927421840'>\ngen_class = <class 'kling.kling.VideoGen'>, method_name = 'save_video'\nmock_session = <MagicMock name='PoolManager()' id='2079913594256'>\n\n    @pytest.mark.parametrize(\n        \"gen_class,method_name\", [(ImageGen, \"save_images\"), (VideoGen, \"save_video\")]\n    )\n    @patch(\"os.path.exists\", return_value=False)\n    @patch(\"os.mkdir\")\n    def test_save_content(mock_mkdir, mock_exists, gen_class, method_name, mock_session):\n>       gen = gen_class(\"mock_cookie\")\n              ^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_kling.py:136: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.http, self.cookies, is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nhttp = <MagicMock name='PoolManager()' id='2079913594256'>, cookies = {}\nis_cn = False\n\n    def call_for_daily_check(http: urllib3.PoolManager, cookies: dict, is_cn: bool) -> bool:\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        headers = {\"Cookie\": \"; \".join([f\"{k}={v}\" for k, v in cookies.items()])}\n        response = http.request(\"GET\", url, headers=headers)\n        if response.status == 200:\n            print(f\"Call daily login success with {is_cn}:\\n{json.loads(response.data.decode())}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:30: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_call_for_daily_check",
      "lineno": 157,
      "outcome": "failed",
      "keywords": [
        "test_call_for_daily_check",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__urllib3\\tests\\test_kling.py",
          "lineno": 165,
          "message": "TypeError: call_for_daily_check() missing 1 required positional argument: 'is_cn'"
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 165,
            "message": "TypeError"
          }
        ],
        "longrepr": "def test_call_for_daily_check():\n        mock_session = MagicMock()\n        mock_session.request.return_value.status = 200\n        mock_session.request.return_value.data = json.dumps(\n            {\"status\": \"success\"}\n        ).encode(\"utf-8\")\n    \n>       result = call_for_daily_check(mock_session, True)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       TypeError: call_for_daily_check() missing 1 required positional argument: 'is_cn'\n\ntests\\test_kling.py:165: TypeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_video_gen_get_video",
      "lineno": 172,
      "outcome": "error",
      "keywords": [
        "test_video_gen_get_video",
        "__wrapped__",
        "patchings",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__urllib3\\kling\\kling.py",
          "lineno": 30,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 31,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 30,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_session = <MagicMock name='PoolManager()' id='2079913991632'>\n\n    @pytest.fixture\n    def video_gen(mock_session):\n>       return VideoGen(\"mock_cookie\")\n               ^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_kling.py:31: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.http, self.cookies, is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nhttp = <MagicMock name='PoolManager()' id='2079913991632'>, cookies = {}\nis_cn = False\n\n    def call_for_daily_check(http: urllib3.PoolManager, cookies: dict, is_cn: bool) -> bool:\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        headers = {\"Cookie\": \"; \".join([f\"{k}={v}\" for k, v in cookies.items()])}\n        response = http.request(\"GET\", url, headers=headers)\n        if response.status == 200:\n            print(f\"Call daily login success with {is_cn}:\\n{json.loads(response.data.decode())}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:30: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_video_gen_save_video",
      "lineno": 195,
      "outcome": "error",
      "keywords": [
        "test_video_gen_save_video",
        "__wrapped__",
        "patchings",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__urllib3\\kling\\kling.py",
          "lineno": 30,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 31,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 30,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_session = <MagicMock name='PoolManager()' id='2079926879568'>\n\n    @pytest.fixture\n    def video_gen(mock_session):\n>       return VideoGen(\"mock_cookie\")\n               ^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_kling.py:31: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.http, self.cookies, is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nhttp = <MagicMock name='PoolManager()' id='2079926879568'>, cookies = {}\nis_cn = False\n\n    def call_for_daily_check(http: urllib3.PoolManager, cookies: dict, is_cn: bool) -> bool:\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        headers = {\"Cookie\": \"; \".join([f\"{k}={v}\" for k, v in cookies.items()])}\n        response = http.request(\"GET\", url, headers=headers)\n        if response.status == 200:\n            print(f\"Call daily login success with {is_cn}:\\n{json.loads(response.data.decode())}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:30: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_image_gen_get_images",
      "lineno": 217,
      "outcome": "error",
      "keywords": [
        "test_image_gen_get_images",
        "__wrapped__",
        "patchings",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__urllib3\\kling\\kling.py",
          "lineno": 30,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 26,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 30,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_session = <MagicMock name='PoolManager()' id='2079913960400'>\n\n    @pytest.fixture\n    def image_gen(mock_session):\n>       return ImageGen(\"mock_cookie\")\n               ^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_kling.py:26: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.http, self.cookies, is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nhttp = <MagicMock name='PoolManager()' id='2079913960400'>, cookies = {}\nis_cn = False\n\n    def call_for_daily_check(http: urllib3.PoolManager, cookies: dict, is_cn: bool) -> bool:\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        headers = {\"Cookie\": \"; \".join([f\"{k}={v}\" for k, v in cookies.items()])}\n        response = http.request(\"GET\", url, headers=headers)\n        if response.status == 200:\n            print(f\"Call daily login success with {is_cn}:\\n{json.loads(response.data.decode())}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:30: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_image_gen_save_images",
      "lineno": 237,
      "outcome": "error",
      "keywords": [
        "test_image_gen_save_images",
        "__wrapped__",
        "patchings",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__urllib3\\kling\\kling.py",
          "lineno": 30,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 26,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 30,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_session = <MagicMock name='PoolManager()' id='2079895633424'>\n\n    @pytest.fixture\n    def image_gen(mock_session):\n>       return ImageGen(\"mock_cookie\")\n               ^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_kling.py:26: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.http, self.cookies, is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nhttp = <MagicMock name='PoolManager()' id='2079895633424'>, cookies = {}\nis_cn = False\n\n    def call_for_daily_check(http: urllib3.PoolManager, cookies: dict, is_cn: bool) -> bool:\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        headers = {\"Cookie\": \"; \".join([f\"{k}={v}\" for k, v in cookies.items()])}\n        response = http.request(\"GET\", url, headers=headers)\n        if response.status == 200:\n            print(f\"Call daily login success with {is_cn}:\\n{json.loads(response.data.decode())}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:30: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_extend_video_completed",
      "lineno": 260,
      "outcome": "error",
      "keywords": [
        "test_extend_video_completed",
        "__wrapped__",
        "patchings",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__urllib3\\kling\\kling.py",
          "lineno": 30,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 31,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 30,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_session = <MagicMock name='PoolManager()' id='2079927960976'>\n\n    @pytest.fixture\n    def video_gen(mock_session):\n>       return VideoGen(\"mock_cookie\")\n               ^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_kling.py:31: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.http, self.cookies, is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nhttp = <MagicMock name='PoolManager()' id='2079927960976'>, cookies = {}\nis_cn = False\n\n    def call_for_daily_check(http: urllib3.PoolManager, cookies: dict, is_cn: bool) -> bool:\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        headers = {\"Cookie\": \"; \".join([f\"{k}={v}\" for k, v in cookies.items()])}\n        response = http.request(\"GET\", url, headers=headers)\n        if response.status == 200:\n            print(f\"Call daily login success with {is_cn}:\\n{json.loads(response.data.decode())}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:30: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_extend_video_pending",
      "lineno": 272,
      "outcome": "error",
      "keywords": [
        "test_extend_video_pending",
        "__wrapped__",
        "patchings",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__urllib3\\kling\\kling.py",
          "lineno": 30,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 31,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 30,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_session = <MagicMock name='PoolManager()' id='2079927925328'>\n\n    @pytest.fixture\n    def video_gen(mock_session):\n>       return VideoGen(\"mock_cookie\")\n               ^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_kling.py:31: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.http, self.cookies, is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nhttp = <MagicMock name='PoolManager()' id='2079927925328'>, cookies = {}\nis_cn = False\n\n    def call_for_daily_check(http: urllib3.PoolManager, cookies: dict, is_cn: bool) -> bool:\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        headers = {\"Cookie\": \"; \".join([f\"{k}={v}\" for k, v in cookies.items()])}\n        response = http.request(\"GET\", url, headers=headers)\n        if response.status == 200:\n            print(f\"Call daily login success with {is_cn}:\\n{json.loads(response.data.decode())}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:30: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_extend_video_failed",
      "lineno": 283,
      "outcome": "error",
      "keywords": [
        "test_extend_video_failed",
        "__wrapped__",
        "patchings",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__urllib3\\kling\\kling.py",
          "lineno": 30,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 31,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 30,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_session = <MagicMock name='PoolManager()' id='2079927185104'>\n\n    @pytest.fixture\n    def video_gen(mock_session):\n>       return VideoGen(\"mock_cookie\")\n               ^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_kling.py:31: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.http, self.cookies, is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nhttp = <MagicMock name='PoolManager()' id='2079927185104'>, cookies = {}\nis_cn = False\n\n    def call_for_daily_check(http: urllib3.PoolManager, cookies: dict, is_cn: bool) -> bool:\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        headers = {\"Cookie\": \"; \".join([f\"{k}={v}\" for k, v in cookies.items()])}\n        response = http.request(\"GET\", url, headers=headers)\n        if response.status == 200:\n            print(f\"Call daily login success with {is_cn}:\\n{json.loads(response.data.decode())}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:30: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_extend_video_no_works",
      "lineno": 294,
      "outcome": "error",
      "keywords": [
        "test_extend_video_no_works",
        "__wrapped__",
        "patchings",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__urllib3",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__urllib3\\kling\\kling.py",
          "lineno": 30,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 31,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 30,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_session = <MagicMock name='PoolManager()' id='2079927160528'>\n\n    @pytest.fixture\n    def video_gen(mock_session):\n>       return VideoGen(\"mock_cookie\")\n               ^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_kling.py:31: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.http, self.cookies, is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nhttp = <MagicMock name='PoolManager()' id='2079927160528'>, cookies = {}\nis_cn = False\n\n    def call_for_daily_check(http: urllib3.PoolManager, cookies: dict, is_cn: bool) -> bool:\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        headers = {\"Cookie\": \"; \".join([f\"{k}={v}\" for k, v in cookies.items()])}\n        response = http.request(\"GET\", url, headers=headers)\n        if response.status == 200:\n            print(f\"Call daily login success with {is_cn}:\\n{json.loads(response.data.decode())}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:30: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    }
  ]
}