{
  "exitcode": 1,
  "summary": {
    "error": 13,
    "failed": 8,
    "total": 21,
    "collected": 21
  },
  "collectors": [
    {
      "nodeid": "",
      "outcome": "passed",
      "result": [
        {
          "nodeid": ".",
          "type": "Dir"
        }
      ]
    },
    {
      "nodeid": "kling",
      "outcome": "passed",
      "result": []
    },
    {
      "nodeid": "kling_creator.egg-info",
      "outcome": "passed",
      "result": []
    },
    {
      "nodeid": "tests/test_kling.py",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "tests/test_kling.py::test_base_gen_init",
          "type": "Function",
          "lineno": 34
        },
        {
          "nodeid": "tests/test_kling.py::test_image_gen_init",
          "type": "Function",
          "lineno": 39
        },
        {
          "nodeid": "tests/test_kling.py::test_video_gen_init",
          "type": "Function",
          "lineno": 44
        },
        {
          "nodeid": "tests/test_kling.py::test_parse_cookie_string",
          "type": "Function",
          "lineno": 49
        },
        {
          "nodeid": "tests/test_kling.py::test_get_account_point[ImageGen]",
          "type": "Function",
          "lineno": 60
        },
        {
          "nodeid": "tests/test_kling.py::test_get_account_point[VideoGen]",
          "type": "Function",
          "lineno": 60
        },
        {
          "nodeid": "tests/test_kling.py::test_image_uploader",
          "type": "Function",
          "lineno": 70
        },
        {
          "nodeid": "tests/test_kling.py::test_fetch_metadata",
          "type": "Function",
          "lineno": 83
        },
        {
          "nodeid": "tests/test_kling.py::test_get_content[ImageGen-get_images]",
          "type": "Function",
          "lineno": 103
        },
        {
          "nodeid": "tests/test_kling.py::test_get_content[VideoGen-get_video]",
          "type": "Function",
          "lineno": 103
        },
        {
          "nodeid": "tests/test_kling.py::test_save_content[ImageGen-save_images]",
          "type": "Function",
          "lineno": 118
        },
        {
          "nodeid": "tests/test_kling.py::test_save_content[VideoGen-save_video]",
          "type": "Function",
          "lineno": 118
        },
        {
          "nodeid": "tests/test_kling.py::test_call_for_daily_check",
          "type": "Function",
          "lineno": 137
        },
        {
          "nodeid": "tests/test_kling.py::test_video_gen_get_video",
          "type": "Function",
          "lineno": 149
        },
        {
          "nodeid": "tests/test_kling.py::test_video_gen_save_video",
          "type": "Function",
          "lineno": 170
        },
        {
          "nodeid": "tests/test_kling.py::test_image_gen_get_images",
          "type": "Function",
          "lineno": 188
        },
        {
          "nodeid": "tests/test_kling.py::test_image_gen_save_images",
          "type": "Function",
          "lineno": 206
        },
        {
          "nodeid": "tests/test_kling.py::test_extend_video_completed",
          "type": "Function",
          "lineno": 226
        },
        {
          "nodeid": "tests/test_kling.py::test_extend_video_pending",
          "type": "Function",
          "lineno": 238
        },
        {
          "nodeid": "tests/test_kling.py::test_extend_video_failed",
          "type": "Function",
          "lineno": 249
        },
        {
          "nodeid": "tests/test_kling.py::test_extend_video_no_works",
          "type": "Function",
          "lineno": 260
        }
      ]
    },
    {
      "nodeid": "tests",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "tests/test_kling.py",
          "type": "Module"
        }
      ]
    },
    {
      "nodeid": ".",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "kling",
          "type": "Package"
        },
        {
          "nodeid": "kling_creator.egg-info",
          "type": "Dir"
        },
        {
          "nodeid": "tests",
          "type": "Dir"
        }
      ]
    }
  ],
  "tests": [
    {
      "nodeid": "tests/test_kling.py::test_base_gen_init",
      "lineno": 34,
      "outcome": "error",
      "keywords": [
        "test_base_gen_init",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__pycurl\\kling\\kling.py",
          "lineno": 33,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 22,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 33,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_curl = <MagicMock name='Curl()' id='2747329741696'>\n\n    @pytest.fixture\n    def base_gen(mock_curl):\n>       return BaseGen(\"mock_cookie\")\n\ntests\\test_kling.py:22: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.curl, self.is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncurl = <MagicMock name='Curl()' id='2747329741696'>, is_cn = False\n\n    def call_for_daily_check(curl: pycurl.Curl, is_cn: bool) -> bool:\n        buffer = io.BytesIO()\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        curl.setopt(pycurl.URL, url)\n        curl.setopt(pycurl.WRITEFUNCTION, buffer.write)\n        curl.perform()\n        status_code = curl.getinfo(pycurl.RESPONSE_CODE)\n        if status_code == 200:\n            response_data = buffer.getvalue().decode(\"utf-8\")\n            print(f\"Call daily login success with {is_cn}:\\n{response_data}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:33: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_image_gen_init",
      "lineno": 39,
      "outcome": "error",
      "keywords": [
        "test_image_gen_init",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__pycurl\\kling\\kling.py",
          "lineno": 33,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 27,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 33,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_curl = <MagicMock name='Curl()' id='2747329909808'>\n\n    @pytest.fixture\n    def image_gen(mock_curl):\n>       return ImageGen(\"mock_cookie\")\n\ntests\\test_kling.py:27: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.curl, self.is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncurl = <MagicMock name='Curl()' id='2747329909808'>, is_cn = False\n\n    def call_for_daily_check(curl: pycurl.Curl, is_cn: bool) -> bool:\n        buffer = io.BytesIO()\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        curl.setopt(pycurl.URL, url)\n        curl.setopt(pycurl.WRITEFUNCTION, buffer.write)\n        curl.perform()\n        status_code = curl.getinfo(pycurl.RESPONSE_CODE)\n        if status_code == 200:\n            response_data = buffer.getvalue().decode(\"utf-8\")\n            print(f\"Call daily login success with {is_cn}:\\n{response_data}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:33: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_video_gen_init",
      "lineno": 44,
      "outcome": "error",
      "keywords": [
        "test_video_gen_init",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__pycurl\\kling\\kling.py",
          "lineno": 33,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 32,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 33,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_curl = <MagicMock name='Curl()' id='2747330161280'>\n\n    @pytest.fixture\n    def video_gen(mock_curl):\n>       return VideoGen(\"mock_cookie\")\n\ntests\\test_kling.py:32: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.curl, self.is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncurl = <MagicMock name='Curl()' id='2747330161280'>, is_cn = False\n\n    def call_for_daily_check(curl: pycurl.Curl, is_cn: bool) -> bool:\n        buffer = io.BytesIO()\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        curl.setopt(pycurl.URL, url)\n        curl.setopt(pycurl.WRITEFUNCTION, buffer.write)\n        curl.perform()\n        status_code = curl.getinfo(pycurl.RESPONSE_CODE)\n        if status_code == 200:\n            response_data = buffer.getvalue().decode(\"utf-8\")\n            print(f\"Call daily login success with {is_cn}:\\n{response_data}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:33: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_parse_cookie_string",
      "lineno": 49,
      "outcome": "failed",
      "keywords": [
        "test_parse_cookie_string",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__pycurl\\tests\\test_kling.py",
          "lineno": 52,
          "message": "TypeError: BaseGen.parse_cookie_string() missing 1 required positional argument: 'cookie_string'"
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 52,
            "message": "TypeError"
          }
        ],
        "longrepr": "def test_parse_cookie_string():\n        cookie_string = \"key1=value1; key2=value2; kuaishou_key=value3\"\n>       cookiejar, is_cn = BaseGen.parse_cookie_string(cookie_string)\nE       TypeError: BaseGen.parse_cookie_string() missing 1 required positional argument: 'cookie_string'\n\ntests\\test_kling.py:52: TypeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_get_account_point[ImageGen]",
      "lineno": 60,
      "outcome": "failed",
      "keywords": [
        "test_get_account_point[ImageGen]",
        "parametrize",
        "pytestmark",
        "ImageGen",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__pycurl\\kling\\kling.py",
          "lineno": 33,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 63,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 33,
            "message": "Exception"
          }
        ],
        "longrepr": "gen_class = <class 'kling.kling.ImageGen'>\nmock_curl = <MagicMock name='Curl()' id='2747340818864'>\n\n    @pytest.mark.parametrize(\"gen_class\", [ImageGen, VideoGen])\n    def test_get_account_point(gen_class, mock_curl):\n>       gen = gen_class(\"mock_cookie\")\n\ntests\\test_kling.py:63: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.curl, self.is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncurl = <MagicMock name='Curl()' id='2747340818864'>, is_cn = False\n\n    def call_for_daily_check(curl: pycurl.Curl, is_cn: bool) -> bool:\n        buffer = io.BytesIO()\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        curl.setopt(pycurl.URL, url)\n        curl.setopt(pycurl.WRITEFUNCTION, buffer.write)\n        curl.perform()\n        status_code = curl.getinfo(pycurl.RESPONSE_CODE)\n        if status_code == 200:\n            response_data = buffer.getvalue().decode(\"utf-8\")\n            print(f\"Call daily login success with {is_cn}:\\n{response_data}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:33: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_get_account_point[VideoGen]",
      "lineno": 60,
      "outcome": "failed",
      "keywords": [
        "test_get_account_point[VideoGen]",
        "parametrize",
        "pytestmark",
        "VideoGen",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__pycurl\\kling\\kling.py",
          "lineno": 33,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 63,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 33,
            "message": "Exception"
          }
        ],
        "longrepr": "gen_class = <class 'kling.kling.VideoGen'>\nmock_curl = <MagicMock name='Curl()' id='2747341363472'>\n\n    @pytest.mark.parametrize(\"gen_class\", [ImageGen, VideoGen])\n    def test_get_account_point(gen_class, mock_curl):\n>       gen = gen_class(\"mock_cookie\")\n\ntests\\test_kling.py:63: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.curl, self.is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncurl = <MagicMock name='Curl()' id='2747341363472'>, is_cn = False\n\n    def call_for_daily_check(curl: pycurl.Curl, is_cn: bool) -> bool:\n        buffer = io.BytesIO()\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        curl.setopt(pycurl.URL, url)\n        curl.setopt(pycurl.WRITEFUNCTION, buffer.write)\n        curl.perform()\n        status_code = curl.getinfo(pycurl.RESPONSE_CODE)\n        if status_code == 200:\n            response_data = buffer.getvalue().decode(\"utf-8\")\n            print(f\"Call daily login success with {is_cn}:\\n{response_data}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:33: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_image_uploader",
      "lineno": 70,
      "outcome": "error",
      "keywords": [
        "test_image_uploader",
        "__wrapped__",
        "patchings",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__pycurl\\kling\\kling.py",
          "lineno": 33,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 27,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 33,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_curl = <MagicMock name='Curl()' id='2747329848784'>\n\n    @pytest.fixture\n    def image_gen(mock_curl):\n>       return ImageGen(\"mock_cookie\")\n\ntests\\test_kling.py:27: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.curl, self.is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncurl = <MagicMock name='Curl()' id='2747329848784'>, is_cn = False\n\n    def call_for_daily_check(curl: pycurl.Curl, is_cn: bool) -> bool:\n        buffer = io.BytesIO()\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        curl.setopt(pycurl.URL, url)\n        curl.setopt(pycurl.WRITEFUNCTION, buffer.write)\n        curl.perform()\n        status_code = curl.getinfo(pycurl.RESPONSE_CODE)\n        if status_code == 200:\n            response_data = buffer.getvalue().decode(\"utf-8\")\n            print(f\"Call daily login success with {is_cn}:\\n{response_data}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:33: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_fetch_metadata",
      "lineno": 83,
      "outcome": "error",
      "keywords": [
        "test_fetch_metadata",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__pycurl\\kling\\kling.py",
          "lineno": 33,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 22,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 33,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_curl = <MagicMock name='Curl()' id='2747341235376'>\n\n    @pytest.fixture\n    def base_gen(mock_curl):\n>       return BaseGen(\"mock_cookie\")\n\ntests\\test_kling.py:22: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.curl, self.is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncurl = <MagicMock name='Curl()' id='2747341235376'>, is_cn = False\n\n    def call_for_daily_check(curl: pycurl.Curl, is_cn: bool) -> bool:\n        buffer = io.BytesIO()\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        curl.setopt(pycurl.URL, url)\n        curl.setopt(pycurl.WRITEFUNCTION, buffer.write)\n        curl.perform()\n        status_code = curl.getinfo(pycurl.RESPONSE_CODE)\n        if status_code == 200:\n            response_data = buffer.getvalue().decode(\"utf-8\")\n            print(f\"Call daily login success with {is_cn}:\\n{response_data}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:33: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_get_content[ImageGen-get_images]",
      "lineno": 103,
      "outcome": "failed",
      "keywords": [
        "test_get_content[ImageGen-get_images]",
        "parametrize",
        "pytestmark",
        "ImageGen-get_images",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__pycurl\\kling\\kling.py",
          "lineno": 33,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 108,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 33,
            "message": "Exception"
          }
        ],
        "longrepr": "gen_class = <class 'kling.kling.ImageGen'>, method_name = 'get_images'\nmock_curl = <MagicMock name='Curl()' id='2747341481376'>\n\n    @pytest.mark.parametrize(\n        \"gen_class,method_name\", [(ImageGen, \"get_images\"), (VideoGen, \"get_video\")]\n    )\n    def test_get_content(gen_class, method_name, mock_curl):\n>       gen = gen_class(\"mock_cookie\")\n\ntests\\test_kling.py:108: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.curl, self.is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncurl = <MagicMock name='Curl()' id='2747341481376'>, is_cn = False\n\n    def call_for_daily_check(curl: pycurl.Curl, is_cn: bool) -> bool:\n        buffer = io.BytesIO()\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        curl.setopt(pycurl.URL, url)\n        curl.setopt(pycurl.WRITEFUNCTION, buffer.write)\n        curl.perform()\n        status_code = curl.getinfo(pycurl.RESPONSE_CODE)\n        if status_code == 200:\n            response_data = buffer.getvalue().decode(\"utf-8\")\n            print(f\"Call daily login success with {is_cn}:\\n{response_data}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:33: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_get_content[VideoGen-get_video]",
      "lineno": 103,
      "outcome": "failed",
      "keywords": [
        "test_get_content[VideoGen-get_video]",
        "parametrize",
        "pytestmark",
        "VideoGen-get_video",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__pycurl\\kling\\kling.py",
          "lineno": 33,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 108,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 33,
            "message": "Exception"
          }
        ],
        "longrepr": "gen_class = <class 'kling.kling.VideoGen'>, method_name = 'get_video'\nmock_curl = <MagicMock name='Curl()' id='2747330154944'>\n\n    @pytest.mark.parametrize(\n        \"gen_class,method_name\", [(ImageGen, \"get_images\"), (VideoGen, \"get_video\")]\n    )\n    def test_get_content(gen_class, method_name, mock_curl):\n>       gen = gen_class(\"mock_cookie\")\n\ntests\\test_kling.py:108: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.curl, self.is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncurl = <MagicMock name='Curl()' id='2747330154944'>, is_cn = False\n\n    def call_for_daily_check(curl: pycurl.Curl, is_cn: bool) -> bool:\n        buffer = io.BytesIO()\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        curl.setopt(pycurl.URL, url)\n        curl.setopt(pycurl.WRITEFUNCTION, buffer.write)\n        curl.perform()\n        status_code = curl.getinfo(pycurl.RESPONSE_CODE)\n        if status_code == 200:\n            response_data = buffer.getvalue().decode(\"utf-8\")\n            print(f\"Call daily login success with {is_cn}:\\n{response_data}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:33: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_save_content[ImageGen-save_images]",
      "lineno": 118,
      "outcome": "failed",
      "keywords": [
        "test_save_content[ImageGen-save_images]",
        "parametrize",
        "__wrapped__",
        "patchings",
        "pytestmark",
        "ImageGen-save_images",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__pycurl\\kling\\kling.py",
          "lineno": 33,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 125,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 33,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_mkdir = <MagicMock name='mkdir' id='2747325194000'>\nmock_exists = <MagicMock name='exists' id='2747330188000'>\ngen_class = <class 'kling.kling.ImageGen'>, method_name = 'save_images'\nmock_curl = <MagicMock name='Curl()' id='2747330153072'>\n\n    @pytest.mark.parametrize(\n        \"gen_class,method_name\", [(ImageGen, \"save_images\"), (VideoGen, \"save_video\")]\n    )\n    @patch(\"os.path.exists\", return_value=False)\n    @patch(\"os.mkdir\")\n    def test_save_content(mock_mkdir, mock_exists, gen_class, method_name, mock_curl):\n>       gen = gen_class(\"mock_cookie\")\n\ntests\\test_kling.py:125: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.curl, self.is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncurl = <MagicMock name='Curl()' id='2747330153072'>, is_cn = False\n\n    def call_for_daily_check(curl: pycurl.Curl, is_cn: bool) -> bool:\n        buffer = io.BytesIO()\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        curl.setopt(pycurl.URL, url)\n        curl.setopt(pycurl.WRITEFUNCTION, buffer.write)\n        curl.perform()\n        status_code = curl.getinfo(pycurl.RESPONSE_CODE)\n        if status_code == 200:\n            response_data = buffer.getvalue().decode(\"utf-8\")\n            print(f\"Call daily login success with {is_cn}:\\n{response_data}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:33: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_save_content[VideoGen-save_video]",
      "lineno": 118,
      "outcome": "failed",
      "keywords": [
        "test_save_content[VideoGen-save_video]",
        "parametrize",
        "__wrapped__",
        "patchings",
        "pytestmark",
        "VideoGen-save_video",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__pycurl\\kling\\kling.py",
          "lineno": 33,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 125,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 33,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_mkdir = <MagicMock name='mkdir' id='2747340828560'>\nmock_exists = <MagicMock name='exists' id='2747329519616'>\ngen_class = <class 'kling.kling.VideoGen'>, method_name = 'save_video'\nmock_curl = <MagicMock name='Curl()' id='2747340823520'>\n\n    @pytest.mark.parametrize(\n        \"gen_class,method_name\", [(ImageGen, \"save_images\"), (VideoGen, \"save_video\")]\n    )\n    @patch(\"os.path.exists\", return_value=False)\n    @patch(\"os.mkdir\")\n    def test_save_content(mock_mkdir, mock_exists, gen_class, method_name, mock_curl):\n>       gen = gen_class(\"mock_cookie\")\n\ntests\\test_kling.py:125: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.curl, self.is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncurl = <MagicMock name='Curl()' id='2747340823520'>, is_cn = False\n\n    def call_for_daily_check(curl: pycurl.Curl, is_cn: bool) -> bool:\n        buffer = io.BytesIO()\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        curl.setopt(pycurl.URL, url)\n        curl.setopt(pycurl.WRITEFUNCTION, buffer.write)\n        curl.perform()\n        status_code = curl.getinfo(pycurl.RESPONSE_CODE)\n        if status_code == 200:\n            response_data = buffer.getvalue().decode(\"utf-8\")\n            print(f\"Call daily login success with {is_cn}:\\n{response_data}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:33: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_call_for_daily_check",
      "lineno": 137,
      "outcome": "failed",
      "keywords": [
        "test_call_for_daily_check",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__pycurl\\kling\\kling.py",
          "lineno": 33,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 142,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 33,
            "message": "Exception"
          }
        ],
        "longrepr": "def test_call_for_daily_check():\n        mock_curl = MagicMock()\n        mock_curl.perform.side_effect = ['{\"status\": \"success\"}']\n    \n>       result = call_for_daily_check(mock_curl, True)\n\ntests\\test_kling.py:142: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncurl = <MagicMock id='2747329847296'>, is_cn = True\n\n    def call_for_daily_check(curl: pycurl.Curl, is_cn: bool) -> bool:\n        buffer = io.BytesIO()\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        curl.setopt(pycurl.URL, url)\n        curl.setopt(pycurl.WRITEFUNCTION, buffer.write)\n        curl.perform()\n        status_code = curl.getinfo(pycurl.RESPONSE_CODE)\n        if status_code == 200:\n            response_data = buffer.getvalue().decode(\"utf-8\")\n            print(f\"Call daily login success with {is_cn}:\\n{response_data}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:33: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_video_gen_get_video",
      "lineno": 149,
      "outcome": "error",
      "keywords": [
        "test_video_gen_get_video",
        "__wrapped__",
        "patchings",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__pycurl\\kling\\kling.py",
          "lineno": 33,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 32,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 33,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_curl = <MagicMock name='Curl()' id='2747341164272'>\n\n    @pytest.fixture\n    def video_gen(mock_curl):\n>       return VideoGen(\"mock_cookie\")\n\ntests\\test_kling.py:32: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.curl, self.is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncurl = <MagicMock name='Curl()' id='2747341164272'>, is_cn = False\n\n    def call_for_daily_check(curl: pycurl.Curl, is_cn: bool) -> bool:\n        buffer = io.BytesIO()\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        curl.setopt(pycurl.URL, url)\n        curl.setopt(pycurl.WRITEFUNCTION, buffer.write)\n        curl.perform()\n        status_code = curl.getinfo(pycurl.RESPONSE_CODE)\n        if status_code == 200:\n            response_data = buffer.getvalue().decode(\"utf-8\")\n            print(f\"Call daily login success with {is_cn}:\\n{response_data}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:33: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_video_gen_save_video",
      "lineno": 170,
      "outcome": "error",
      "keywords": [
        "test_video_gen_save_video",
        "__wrapped__",
        "patchings",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__pycurl\\kling\\kling.py",
          "lineno": 33,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 32,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 33,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_curl = <MagicMock name='Curl()' id='2747329839424'>\n\n    @pytest.fixture\n    def video_gen(mock_curl):\n>       return VideoGen(\"mock_cookie\")\n\ntests\\test_kling.py:32: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.curl, self.is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncurl = <MagicMock name='Curl()' id='2747329839424'>, is_cn = False\n\n    def call_for_daily_check(curl: pycurl.Curl, is_cn: bool) -> bool:\n        buffer = io.BytesIO()\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        curl.setopt(pycurl.URL, url)\n        curl.setopt(pycurl.WRITEFUNCTION, buffer.write)\n        curl.perform()\n        status_code = curl.getinfo(pycurl.RESPONSE_CODE)\n        if status_code == 200:\n            response_data = buffer.getvalue().decode(\"utf-8\")\n            print(f\"Call daily login success with {is_cn}:\\n{response_data}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:33: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_image_gen_get_images",
      "lineno": 188,
      "outcome": "error",
      "keywords": [
        "test_image_gen_get_images",
        "__wrapped__",
        "patchings",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__pycurl\\kling\\kling.py",
          "lineno": 33,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 27,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 33,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_curl = <MagicMock name='Curl()' id='2747340819344'>\n\n    @pytest.fixture\n    def image_gen(mock_curl):\n>       return ImageGen(\"mock_cookie\")\n\ntests\\test_kling.py:27: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.curl, self.is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncurl = <MagicMock name='Curl()' id='2747340819344'>, is_cn = False\n\n    def call_for_daily_check(curl: pycurl.Curl, is_cn: bool) -> bool:\n        buffer = io.BytesIO()\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        curl.setopt(pycurl.URL, url)\n        curl.setopt(pycurl.WRITEFUNCTION, buffer.write)\n        curl.perform()\n        status_code = curl.getinfo(pycurl.RESPONSE_CODE)\n        if status_code == 200:\n            response_data = buffer.getvalue().decode(\"utf-8\")\n            print(f\"Call daily login success with {is_cn}:\\n{response_data}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:33: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_image_gen_save_images",
      "lineno": 206,
      "outcome": "error",
      "keywords": [
        "test_image_gen_save_images",
        "__wrapped__",
        "patchings",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__pycurl\\kling\\kling.py",
          "lineno": 33,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 27,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 33,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_curl = <MagicMock name='Curl()' id='2747330152592'>\n\n    @pytest.fixture\n    def image_gen(mock_curl):\n>       return ImageGen(\"mock_cookie\")\n\ntests\\test_kling.py:27: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.curl, self.is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncurl = <MagicMock name='Curl()' id='2747330152592'>, is_cn = False\n\n    def call_for_daily_check(curl: pycurl.Curl, is_cn: bool) -> bool:\n        buffer = io.BytesIO()\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        curl.setopt(pycurl.URL, url)\n        curl.setopt(pycurl.WRITEFUNCTION, buffer.write)\n        curl.perform()\n        status_code = curl.getinfo(pycurl.RESPONSE_CODE)\n        if status_code == 200:\n            response_data = buffer.getvalue().decode(\"utf-8\")\n            print(f\"Call daily login success with {is_cn}:\\n{response_data}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:33: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_extend_video_completed",
      "lineno": 226,
      "outcome": "error",
      "keywords": [
        "test_extend_video_completed",
        "__wrapped__",
        "patchings",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__pycurl\\kling\\kling.py",
          "lineno": 33,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 32,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 33,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_curl = <MagicMock name='Curl()' id='2747340840672'>\n\n    @pytest.fixture\n    def video_gen(mock_curl):\n>       return VideoGen(\"mock_cookie\")\n\ntests\\test_kling.py:32: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.curl, self.is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncurl = <MagicMock name='Curl()' id='2747340840672'>, is_cn = False\n\n    def call_for_daily_check(curl: pycurl.Curl, is_cn: bool) -> bool:\n        buffer = io.BytesIO()\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        curl.setopt(pycurl.URL, url)\n        curl.setopt(pycurl.WRITEFUNCTION, buffer.write)\n        curl.perform()\n        status_code = curl.getinfo(pycurl.RESPONSE_CODE)\n        if status_code == 200:\n            response_data = buffer.getvalue().decode(\"utf-8\")\n            print(f\"Call daily login success with {is_cn}:\\n{response_data}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:33: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_extend_video_pending",
      "lineno": 238,
      "outcome": "error",
      "keywords": [
        "test_extend_video_pending",
        "__wrapped__",
        "patchings",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__pycurl\\kling\\kling.py",
          "lineno": 33,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 32,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 33,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_curl = <MagicMock name='Curl()' id='2747341280304'>\n\n    @pytest.fixture\n    def video_gen(mock_curl):\n>       return VideoGen(\"mock_cookie\")\n\ntests\\test_kling.py:32: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.curl, self.is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncurl = <MagicMock name='Curl()' id='2747341280304'>, is_cn = False\n\n    def call_for_daily_check(curl: pycurl.Curl, is_cn: bool) -> bool:\n        buffer = io.BytesIO()\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        curl.setopt(pycurl.URL, url)\n        curl.setopt(pycurl.WRITEFUNCTION, buffer.write)\n        curl.perform()\n        status_code = curl.getinfo(pycurl.RESPONSE_CODE)\n        if status_code == 200:\n            response_data = buffer.getvalue().decode(\"utf-8\")\n            print(f\"Call daily login success with {is_cn}:\\n{response_data}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:33: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_extend_video_failed",
      "lineno": 249,
      "outcome": "error",
      "keywords": [
        "test_extend_video_failed",
        "__wrapped__",
        "patchings",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__pycurl\\kling\\kling.py",
          "lineno": 33,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 32,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 33,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_curl = <MagicMock name='Curl()' id='2747330192320'>\n\n    @pytest.fixture\n    def video_gen(mock_curl):\n>       return VideoGen(\"mock_cookie\")\n\ntests\\test_kling.py:32: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.curl, self.is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncurl = <MagicMock name='Curl()' id='2747330192320'>, is_cn = False\n\n    def call_for_daily_check(curl: pycurl.Curl, is_cn: bool) -> bool:\n        buffer = io.BytesIO()\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        curl.setopt(pycurl.URL, url)\n        curl.setopt(pycurl.WRITEFUNCTION, buffer.write)\n        curl.perform()\n        status_code = curl.getinfo(pycurl.RESPONSE_CODE)\n        if status_code == 200:\n            response_data = buffer.getvalue().decode(\"utf-8\")\n            print(f\"Call daily login success with {is_cn}:\\n{response_data}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:33: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "tests/test_kling.py::test_extend_video_no_works",
      "lineno": 260,
      "outcome": "error",
      "keywords": [
        "test_extend_video_no_works",
        "__wrapped__",
        "patchings",
        "test_kling.py",
        "tests",
        "yihong0618@klingcreator__e567c6a1__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\yihong0618@klingcreator__e567c6a1__requests__pycurl\\kling\\kling.py",
          "lineno": 33,
          "message": "Exception: Call daily login failed with CN or Non-CN. The token may be incorrect."
        },
        "traceback": [
          {
            "path": "tests\\test_kling.py",
            "lineno": 32,
            "message": ""
          },
          {
            "path": "kling\\kling.py",
            "lineno": 51,
            "message": "in __init__"
          },
          {
            "path": "kling\\kling.py",
            "lineno": 33,
            "message": "Exception"
          }
        ],
        "longrepr": "mock_curl = <MagicMock name='Curl()' id='2747340824624'>\n\n    @pytest.fixture\n    def video_gen(mock_curl):\n>       return VideoGen(\"mock_cookie\")\n\ntests\\test_kling.py:32: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nkling\\kling.py:51: in __init__\n    call_for_daily_check(self.curl, self.is_cn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncurl = <MagicMock name='Curl()' id='2747340824624'>, is_cn = False\n\n    def call_for_daily_check(curl: pycurl.Curl, is_cn: bool) -> bool:\n        buffer = io.BytesIO()\n        url = f\"{base_url}api/pay/reward?activity=login_bonus_daily\" if is_cn else f\"{base_url_not_cn}api/pay/reward?activity=login_bonus_daily\"\n        curl.setopt(pycurl.URL, url)\n        curl.setopt(pycurl.WRITEFUNCTION, buffer.write)\n        curl.perform()\n        status_code = curl.getinfo(pycurl.RESPONSE_CODE)\n        if status_code == 200:\n            response_data = buffer.getvalue().decode(\"utf-8\")\n            print(f\"Call daily login success with {is_cn}:\\n{response_data}\\n\")\n            return True\n    \n>       raise Exception(\n            \"Call daily login failed with CN or Non-CN. The token may be incorrect.\"\n        )\nE       Exception: Call daily login failed with CN or Non-CN. The token may be incorrect.\n\nkling\\kling.py:33: Exception"
      },
      "teardown": {
        "outcome": "passed"
      }
    }
  ]
}