{
  "exitcode": 1,
  "summary": {
    "passed": 5,
    "failed": 6,
    "total": 11,
    "collected": 11
  },
  "collectors": [
    {
      "nodeid": "",
      "outcome": "passed",
      "result": [
        {
          "nodeid": ".",
          "type": "Dir"
        }
      ]
    },
    {
      "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::AuthenticatorTest",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::AuthenticatorTest::test_cleanup",
          "type": "TestCaseFunction",
          "lineno": 69
        },
        {
          "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::AuthenticatorTest::test_get_chall_pref",
          "type": "TestCaseFunction",
          "lineno": 58
        },
        {
          "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::AuthenticatorTest::test_more_info",
          "type": "TestCaseFunction",
          "lineno": 55
        },
        {
          "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::AuthenticatorTest::test_parser_arguments",
          "type": "TestCaseFunction",
          "lineno": 61
        },
        {
          "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::AuthenticatorTest::test_perform",
          "type": "TestCaseFunction",
          "lineno": 60
        }
      ]
    },
    {
      "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::APIDomainTest",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::APIDomainTest::test_add_txt_record",
          "type": "TestCaseFunction",
          "lineno": 112
        },
        {
          "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::APIDomainTest::test_add_txt_record_fail_to_authenticate",
          "type": "TestCaseFunction",
          "lineno": 141
        },
        {
          "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::APIDomainTest::test_add_txt_record_fail_to_find_domain",
          "type": "TestCaseFunction",
          "lineno": 133
        },
        {
          "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::APIDomainTest::test_del_txt_record",
          "type": "TestCaseFunction",
          "lineno": 152
        },
        {
          "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::APIDomainTest::test_del_txt_record_fail_to_authenticate",
          "type": "TestCaseFunction",
          "lineno": 182
        },
        {
          "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::APIDomainTest::test_del_txt_record_fail_to_find_domain",
          "type": "TestCaseFunction",
          "lineno": 174
        }
      ]
    },
    {
      "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::AuthenticatorTest",
          "type": "UnitTestCase"
        },
        {
          "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::APIDomainTest",
          "type": "UnitTestCase"
        }
      ]
    },
    {
      "nodeid": "certbot_dns_infomaniak",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py",
          "type": "Module"
        }
      ]
    },
    {
      "nodeid": "certbot_dns_infomaniak.egg-info",
      "outcome": "passed",
      "result": []
    },
    {
      "nodeid": ".",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "certbot_dns_infomaniak",
          "type": "Package"
        },
        {
          "nodeid": "certbot_dns_infomaniak.egg-info",
          "type": "Dir"
        }
      ]
    }
  ],
  "tests": [
    {
      "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::AuthenticatorTest::test_cleanup",
      "lineno": 69,
      "outcome": "passed",
      "keywords": [
        "test_cleanup",
        "AuthenticatorTest",
        "dns_infomaniak_test.py",
        "certbot_dns_infomaniak",
        "infomaniak@certbot-dns-infomaniak__33519931__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::AuthenticatorTest::test_get_chall_pref",
      "lineno": 58,
      "outcome": "passed",
      "keywords": [
        "test_get_chall_pref",
        "AuthenticatorTest",
        "dns_infomaniak_test.py",
        "certbot_dns_infomaniak",
        "infomaniak@certbot-dns-infomaniak__33519931__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::AuthenticatorTest::test_more_info",
      "lineno": 55,
      "outcome": "passed",
      "keywords": [
        "test_more_info",
        "AuthenticatorTest",
        "dns_infomaniak_test.py",
        "certbot_dns_infomaniak",
        "infomaniak@certbot-dns-infomaniak__33519931__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::AuthenticatorTest::test_parser_arguments",
      "lineno": 61,
      "outcome": "passed",
      "keywords": [
        "test_parser_arguments",
        "AuthenticatorTest",
        "dns_infomaniak_test.py",
        "certbot_dns_infomaniak",
        "infomaniak@certbot-dns-infomaniak__33519931__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::AuthenticatorTest::test_perform",
      "lineno": 60,
      "outcome": "passed",
      "keywords": [
        "test_perform",
        "AuthenticatorTest",
        "dns_infomaniak_test.py",
        "certbot_dns_infomaniak",
        "infomaniak@certbot-dns-infomaniak__33519931__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "passed"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::APIDomainTest::test_add_txt_record",
      "lineno": 112,
      "outcome": "failed",
      "keywords": [
        "test_add_txt_record",
        "APIDomainTest",
        "dns_infomaniak_test.py",
        "certbot_dns_infomaniak",
        "infomaniak@certbot-dns-infomaniak__33519931__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\infomaniak@certbot-dns-infomaniak__33519931__requests__pycurl\\certbot_dns_infomaniak\\dns_infomaniak_test.py",
          "lineno": 130,
          "message": "AttributeError: '_APIDomain' object has no attribute 'add_txt_record'"
        },
        "traceback": [
          {
            "path": "certbot_dns_infomaniak\\dns_infomaniak_test.py",
            "lineno": 130,
            "message": "AttributeError"
          }
        ],
        "longrepr": "self = <certbot_dns_infomaniak.dns_infomaniak_test.APIDomainTest testMethod=test_add_txt_record>\n\n    def test_add_txt_record(self):\n        \"\"\"add_txt_record with normal params should succeed\"\"\"\n        # Mock domain lookup\n        domain_data = [\n            {\n                \"id\": 654321,\n                \"account_id\": 1234,\n                \"service_id\": 14,\n                \"service_name\": \"domain\",\n                \"customer_name\": DOMAIN,\n            }\n        ]\n        self.client._make_request = mock.MagicMock(return_value={\"result\": \"success\", \"data\": domain_data})\n    \n        # Mock DNS record creation\n        self.client._make_request = mock.MagicMock(return_value={\"result\": \"success\", \"data\": \"1001234\"})\n    \n>       self.client.add_txt_record(\n            DOMAIN, self.record_name, self.record_content, self.record_ttl\n        )\nE       AttributeError: '_APIDomain' object has no attribute 'add_txt_record'\n\ncertbot_dns_infomaniak\\dns_infomaniak_test.py:130: AttributeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::APIDomainTest::test_add_txt_record_fail_to_authenticate",
      "lineno": 141,
      "outcome": "failed",
      "keywords": [
        "test_add_txt_record_fail_to_authenticate",
        "APIDomainTest",
        "dns_infomaniak_test.py",
        "certbot_dns_infomaniak",
        "infomaniak@certbot-dns-infomaniak__33519931__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\infomaniak@certbot-dns-infomaniak__33519931__requests__pycurl\\certbot_dns_infomaniak\\dns_infomaniak_test.py",
          "lineno": 149,
          "message": "AttributeError: '_APIDomain' object has no attribute 'add_txt_record'"
        },
        "traceback": [
          {
            "path": "certbot_dns_infomaniak\\dns_infomaniak_test.py",
            "lineno": 149,
            "message": "AttributeError"
          }
        ],
        "longrepr": "self = <certbot_dns_infomaniak.dns_infomaniak_test.APIDomainTest testMethod=test_add_txt_record_fail_to_authenticate>\n\n    def test_add_txt_record_fail_to_authenticate(self):\n        \"\"\"add_txt_record with wrong token should fail\"\"\"\n        self.client._make_request = mock.MagicMock(return_value={\n            \"result\": \"error\",\n            \"error\": {\"code\": \"not_authorized\", \"description\": \"Authorization required\"}\n        })\n        with self.assertRaises(PluginError):\n>           self.client.add_txt_record(\n                DOMAIN, self.record_name, self.record_content, self.record_ttl\n            )\nE           AttributeError: '_APIDomain' object has no attribute 'add_txt_record'\n\ncertbot_dns_infomaniak\\dns_infomaniak_test.py:149: AttributeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::APIDomainTest::test_add_txt_record_fail_to_find_domain",
      "lineno": 133,
      "outcome": "failed",
      "keywords": [
        "test_add_txt_record_fail_to_find_domain",
        "APIDomainTest",
        "dns_infomaniak_test.py",
        "certbot_dns_infomaniak",
        "infomaniak@certbot-dns-infomaniak__33519931__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\infomaniak@certbot-dns-infomaniak__33519931__requests__pycurl\\certbot_dns_infomaniak\\dns_infomaniak_test.py",
          "lineno": 138,
          "message": "AttributeError: '_APIDomain' object has no attribute 'add_txt_record'"
        },
        "traceback": [
          {
            "path": "certbot_dns_infomaniak\\dns_infomaniak_test.py",
            "lineno": 138,
            "message": "AttributeError"
          }
        ],
        "longrepr": "self = <certbot_dns_infomaniak.dns_infomaniak_test.APIDomainTest testMethod=test_add_txt_record_fail_to_find_domain>\n\n    def test_add_txt_record_fail_to_find_domain(self):\n        \"\"\"add_txt_record with non existing domain should fail\"\"\"\n        self.client._make_request = mock.MagicMock(return_value={\"result\": \"success\", \"data\": []})\n        with self.assertRaises(PluginError):\n>           self.client.add_txt_record(\n                DOMAIN, self.record_name, self.record_content, self.record_ttl\n            )\nE           AttributeError: '_APIDomain' object has no attribute 'add_txt_record'\n\ncertbot_dns_infomaniak\\dns_infomaniak_test.py:138: AttributeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::APIDomainTest::test_del_txt_record",
      "lineno": 152,
      "outcome": "failed",
      "keywords": [
        "test_del_txt_record",
        "APIDomainTest",
        "dns_infomaniak_test.py",
        "certbot_dns_infomaniak",
        "infomaniak@certbot-dns-infomaniak__33519931__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\infomaniak@certbot-dns-infomaniak__33519931__requests__pycurl\\certbot_dns_infomaniak\\dns_infomaniak_test.py",
          "lineno": 170,
          "message": "AttributeError: '_APIDomain' object has no attribute 'del_txt_record'"
        },
        "traceback": [
          {
            "path": "certbot_dns_infomaniak\\dns_infomaniak_test.py",
            "lineno": 170,
            "message": "AttributeError"
          }
        ],
        "longrepr": "self = <certbot_dns_infomaniak.dns_infomaniak_test.APIDomainTest testMethod=test_del_txt_record>\n\n    def test_del_txt_record(self):\n        \"\"\"del_txt_record with normal params should succeed\"\"\"\n        # Mock domain lookup\n        domain_data = [\n            {\n                \"id\": \"654321\",\n                \"account_id\": \"1234\",\n                \"service_id\": \"14\",\n                \"service_name\": \"domain\",\n                \"customer_name\": DOMAIN,\n            }\n        ]\n        self.client._make_request = mock.MagicMock(return_value={\"result\": \"success\", \"data\": domain_data})\n    \n        # Mock DNS record deletion\n        self.client._make_request = mock.MagicMock(return_value={\"result\": \"success\"})\n    \n>       self.client.del_txt_record(\n            DOMAIN, \"{name}.{domain}\".format(name=self.record_name, domain=DOMAIN),\n            self.record_content,\n        )\nE       AttributeError: '_APIDomain' object has no attribute 'del_txt_record'\n\ncertbot_dns_infomaniak\\dns_infomaniak_test.py:170: AttributeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::APIDomainTest::test_del_txt_record_fail_to_authenticate",
      "lineno": 182,
      "outcome": "failed",
      "keywords": [
        "test_del_txt_record_fail_to_authenticate",
        "APIDomainTest",
        "dns_infomaniak_test.py",
        "certbot_dns_infomaniak",
        "infomaniak@certbot-dns-infomaniak__33519931__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\infomaniak@certbot-dns-infomaniak__33519931__requests__pycurl\\certbot_dns_infomaniak\\dns_infomaniak_test.py",
          "lineno": 190,
          "message": "AttributeError: '_APIDomain' object has no attribute 'del_txt_record'"
        },
        "traceback": [
          {
            "path": "certbot_dns_infomaniak\\dns_infomaniak_test.py",
            "lineno": 190,
            "message": "AttributeError"
          }
        ],
        "longrepr": "self = <certbot_dns_infomaniak.dns_infomaniak_test.APIDomainTest testMethod=test_del_txt_record_fail_to_authenticate>\n\n    def test_del_txt_record_fail_to_authenticate(self):\n        \"\"\"del_txt_record with wrong token should fail\"\"\"\n        self.client._make_request = mock.MagicMock(return_value={\n            \"result\": \"error\",\n            \"error\": {\"code\": \"not_authorized\", \"description\": \"Authorization required\"}\n        })\n        with self.assertRaises(PluginError):\n>           self.client.del_txt_record(\n                DOMAIN, self.record_name, self.record_content\n            )\nE           AttributeError: '_APIDomain' object has no attribute 'del_txt_record'\n\ncertbot_dns_infomaniak\\dns_infomaniak_test.py:190: AttributeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    },
    {
      "nodeid": "certbot_dns_infomaniak/dns_infomaniak_test.py::APIDomainTest::test_del_txt_record_fail_to_find_domain",
      "lineno": 174,
      "outcome": "failed",
      "keywords": [
        "test_del_txt_record_fail_to_find_domain",
        "APIDomainTest",
        "dns_infomaniak_test.py",
        "certbot_dns_infomaniak",
        "infomaniak@certbot-dns-infomaniak__33519931__requests__pycurl",
        ""
      ],
      "setup": {
        "outcome": "passed"
      },
      "call": {
        "outcome": "failed",
        "crash": {
          "path": "D:\\repos\\infomaniak@certbot-dns-infomaniak__33519931__requests__pycurl\\certbot_dns_infomaniak\\dns_infomaniak_test.py",
          "lineno": 179,
          "message": "AttributeError: '_APIDomain' object has no attribute 'del_txt_record'"
        },
        "traceback": [
          {
            "path": "certbot_dns_infomaniak\\dns_infomaniak_test.py",
            "lineno": 179,
            "message": "AttributeError"
          }
        ],
        "longrepr": "self = <certbot_dns_infomaniak.dns_infomaniak_test.APIDomainTest testMethod=test_del_txt_record_fail_to_find_domain>\n\n    def test_del_txt_record_fail_to_find_domain(self):\n        \"\"\"del_txt_record with non existing domain should fail\"\"\"\n        self.client._make_request = mock.MagicMock(return_value={\"result\": \"success\", \"data\": []})\n        with self.assertRaises(PluginError):\n>           self.client.del_txt_record(\n                DOMAIN, self.record_name, self.record_content\n            )\nE           AttributeError: '_APIDomain' object has no attribute 'del_txt_record'\n\ncertbot_dns_infomaniak\\dns_infomaniak_test.py:179: AttributeError"
      },
      "teardown": {
        "outcome": "passed"
      }
    }
  ]
}